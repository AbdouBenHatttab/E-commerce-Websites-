{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, vModelSelect as _vModelSelect } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mt-5\"\n};\nconst _hoisted_2 = {\n  class: \"table mt-3\"\n};\nconst _hoisted_3 = [\"onUpdate:modelValue\"];\nconst _hoisted_4 = [\"onUpdate:modelValue\"];\nconst _hoisted_5 = [\"onUpdate:modelValue\"];\nconst _hoisted_6 = [\"onUpdate:modelValue\"];\nconst _hoisted_7 = [\"onUpdate:modelValue\"];\nconst _hoisted_8 = [\"src\"];\nconst _hoisted_9 = {\n  key: 1\n};\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[4] || (_cache[4] = _createElementVNode(\"h2\", null, \"Manage Users\", -1 /* HOISTED */)), _createElementVNode(\"table\", _hoisted_2, [_cache[3] || (_cache[3] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"ID\"), _createElementVNode(\"th\", null, \"Name\"), _createElementVNode(\"th\", null, \"Email\"), _createElementVNode(\"th\", null, \"Role\"), _createElementVNode(\"th\", null, \"Status\"), _createElementVNode(\"th\", null, \"Phone\"), _createElementVNode(\"th\", null, \"Address\"), _createElementVNode(\"th\", null, \"Image\"), _createElementVNode(\"th\", null, \"Password\"), _createElementVNode(\"th\", null, \"Actions\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.users, user => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: user.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(user.id), 1 /* TEXT */), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": $event => user.name = $event,\n      class: \"form-control\"\n    }, null, 8 /* PROPS */, _hoisted_3), [[_vModelText, user.name]])]), _createElementVNode(\"td\", null, _toDisplayString(user.email), 1 /* TEXT */), _createCommentVNode(\" Email is not editable \"), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"select\", {\n      \"onUpdate:modelValue\": $event => user.role = $event,\n      class: \"form-select\"\n    }, [...(_cache[0] || (_cache[0] = [_createElementVNode(\"option\", {\n      value: \"ROLE_USER\"\n    }, \"User\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n      value: \"ROLE_ADMIN\"\n    }, \"Admin\", -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_4), [[_vModelSelect, user.role]])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"select\", {\n      \"onUpdate:modelValue\": $event => user.status = $event,\n      class: \"form-select\"\n    }, [...(_cache[1] || (_cache[1] = [_createElementVNode(\"option\", {\n      value: \"ACTIVE\"\n    }, \"Active\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n      value: \"INACTIVE\"\n    }, \"Inactive\", -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_5), [[_vModelSelect, user.status]])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": $event => user.phoneNumber = $event,\n      class: \"form-control\"\n    }, null, 8 /* PROPS */, _hoisted_6), [[_vModelText, user.phoneNumber]])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": $event => user.address = $event,\n      class: \"form-control\"\n    }, null, 8 /* PROPS */, _hoisted_7), [[_vModelText, user.address]])]), _createElementVNode(\"td\", null, [user.imageUrl ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 0,\n      src: 'http://localhost:8080/uploads/' + user.imageUrl,\n      alt: \"User Image\",\n      class: \"img-thumbnail\",\n      width: \"50\"\n    }, null, 8 /* PROPS */, _hoisted_8)) : (_openBlock(), _createElementBlock(\"span\", _hoisted_9, \"No Image\"))]), _cache[2] || (_cache[2] = _createElementVNode(\"td\", null, \"***\", -1 /* HOISTED */)), _createCommentVNode(\" Password stays masked \"), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      class: \"btn btn-success btn-sm me-2\",\n      onClick: $event => $options.updateUser(user)\n    }, \" Save \", 8 /* PROPS */, _hoisted_10), _createElementVNode(\"button\", {\n      class: \"btn btn-danger btn-sm\",\n      onClick: $event => $options.deleteUser(user.id)\n    }, \" Delete \", 8 /* PROPS */, _hoisted_11)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_Fragment","_renderList","$data","users","user","id","_toDisplayString","$event","name","_hoisted_3","email","_createCommentVNode","role","value","_hoisted_4","status","_hoisted_5","phoneNumber","_hoisted_6","address","_hoisted_7","imageUrl","src","alt","width","_hoisted_8","_hoisted_9","onClick","$options","updateUser","_hoisted_10","deleteUser","_hoisted_11"],"sources":["C:\\Users\\Hedib\\OneDrive\\Bureau\\hello-word-vue\\src\\components\\admin\\AdminUsers.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-5\">\n    <h2>Manage Users</h2>\n    <table class=\"table mt-3\">\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Name</th>\n          <th>Email</th>\n          <th>Role</th>\n          <th>Status</th>\n          <th>Phone</th>\n          <th>Address</th>\n          <th>Image</th>\n          <th>Password</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"user in users\" :key=\"user.id\">\n          <td>{{ user.id }}</td>\n          <td><input v-model=\"user.name\" class=\"form-control\" /></td>\n          <td>{{ user.email }}</td>\n          <!-- Email is not editable -->\n          <td>\n            <select v-model=\"user.role\" class=\"form-select\">\n              <option value=\"ROLE_USER\">User</option>\n              <option value=\"ROLE_ADMIN\">Admin</option>\n            </select>\n          </td>\n          <td>\n            <select v-model=\"user.status\" class=\"form-select\">\n              <option value=\"ACTIVE\">Active</option>\n              <option value=\"INACTIVE\">Inactive</option>\n            </select>\n          </td>\n          <td><input v-model=\"user.phoneNumber\" class=\"form-control\" /></td>\n          <td><input v-model=\"user.address\" class=\"form-control\" /></td>\n          <td>\n            <img\n              v-if=\"user.imageUrl\"\n              :src=\"'http://localhost:8080/uploads/' + user.imageUrl\"\n              alt=\"User Image\"\n              class=\"img-thumbnail\"\n              width=\"50\"\n            />\n            <span v-else>No Image</span>\n          </td>\n          <td>***</td>\n          <!-- Password stays masked -->\n          <td>\n            <button\n              class=\"btn btn-success btn-sm me-2\"\n              @click=\"updateUser(user)\"\n            >\n              Save\n            </button>\n            <button class=\"btn btn-danger btn-sm\" @click=\"deleteUser(user.id)\">\n              Delete\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport UserService from '@/services/UserService';\n\nexport default {\n  data() {\n    return {\n      users: [],\n    };\n  },\n  async created() {\n    await this.fetchUsers();\n  },\n  methods: {\n    async fetchUsers() {\n      try {\n        const response = await UserService.getAllUsers();\n        this.users = response.data;\n      } catch (error) {\n        console.error('Error fetching users:', error);\n      }\n    },\n    async updateUser(user) {\n      try {\n        console.log('Updating user:', user);\n        await UserService.updateUser(user.id, {\n          name: user.name,\n          role: user.role,\n          status: user.status,\n          phoneNumber: user.phoneNumber,\n          address: user.address,\n          imageUrl: user.imageUrl,\n        });\n        alert('User updated successfully!');\n      } catch (error) {\n        console.error('Error updating user:', error);\n        alert('Failed to update user.');\n      }\n    },\n    async deleteUser(id) {\n      try {\n        await UserService.deleteUser(id);\n        this.users = this.users.filter((user) => user.id !== id);\n        alert('User deleted successfully!');\n      } catch (error) {\n        console.error('Error deleting user:', error);\n        alert('Failed to delete user.');\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.img-thumbnail {\n  border-radius: 50%;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}