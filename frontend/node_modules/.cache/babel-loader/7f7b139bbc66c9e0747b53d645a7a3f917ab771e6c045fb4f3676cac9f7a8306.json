{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"py-3 py-md-5 bg-light\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = {\n  class: \"row\"\n};\nconst _hoisted_4 = {\n  class: \"col-md-12\"\n};\nconst _hoisted_5 = {\n  class: \"shopping-cart\"\n};\nconst _hoisted_6 = {\n  class: \"row\"\n};\nconst _hoisted_7 = {\n  class: \"col-md-6 my-auto\"\n};\nconst _hoisted_8 = {\n  href: \"\"\n};\nconst _hoisted_9 = {\n  class: \"product-name\"\n};\nconst _hoisted_10 = [\"src\"];\nconst _hoisted_11 = {\n  class: \"col-md-2 my-auto\"\n};\nconst _hoisted_12 = {\n  class: \"price\"\n};\nconst _hoisted_13 = {\n  class: \"col-md-2 col-7 my-auto\"\n};\nconst _hoisted_14 = {\n  class: \"quantity\"\n};\nconst _hoisted_15 = {\n  class: \"input-group\"\n};\nconst _hoisted_16 = [\"onClick\"];\nconst _hoisted_17 = [\"onUpdate:modelValue\", \"onChange\"];\nconst _hoisted_18 = [\"onClick\"];\nconst _hoisted_19 = {\n  class: \"col-md-2 col-5 my-auto\"\n};\nconst _hoisted_20 = {\n  class: \"remove\"\n};\nconst _hoisted_21 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_cache[3] || (_cache[3] = _createStaticVNode(\"<div class=\\\"cart-header d-none d-sm-none d-mb-block d-lg-block\\\" data-v-d3093fe2><div class=\\\"row\\\" data-v-d3093fe2><div class=\\\"col-md-6\\\" data-v-d3093fe2><h4 data-v-d3093fe2>Products</h4></div><div class=\\\"col-md-2\\\" data-v-d3093fe2><h4 data-v-d3093fe2>Price</h4></div><div class=\\\"col-md-2\\\" data-v-d3093fe2><h4 data-v-d3093fe2>Quantity</h4></div><div class=\\\"col-md-2\\\" data-v-d3093fe2><h4 data-v-d3093fe2>Remove</h4></div></div></div>\", 1)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.cartItems, item => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: item.product.id,\n      class: \"cart-item\"\n    }, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"a\", _hoisted_8, [_createElementVNode(\"label\", _hoisted_9, [_createElementVNode(\"img\", {\n      src: item.product.imageUrl,\n      style: {\n        \"width\": \"50px\",\n        \"height\": \"50px\"\n      },\n      alt: \"Product Image\"\n    }, null, 8 /* PROPS */, _hoisted_10), _createTextVNode(\" \" + _toDisplayString(item.product.name), 1 /* TEXT */)])])]), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"label\", _hoisted_12, \"$\" + _toDisplayString(item.product.price), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"span\", {\n      class: \"btn btn1\",\n      onClick: $event => $options.updateQuantity(item.product.id, item.quantity - 1)\n    }, [...(_cache[0] || (_cache[0] = [_createElementVNode(\"i\", {\n      class: \"fa fa-minus\"\n    }, null, -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_16), _withDirectives(_createElementVNode(\"input\", {\n      type: \"number\",\n      \"onUpdate:modelValue\": $event => item.quantity = $event,\n      class: \"input-quantity\",\n      onChange: $event => $options.updateQuantity(item.product.id, item.quantity),\n      min: \"1\"\n    }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_17), [[_vModelText, item.quantity, void 0, {\n      number: true\n    }]]), _createElementVNode(\"span\", {\n      class: \"btn btn1\",\n      onClick: $event => $options.updateQuantity(item.product.id, item.quantity + 1)\n    }, [...(_cache[1] || (_cache[1] = [_createElementVNode(\"i\", {\n      class: \"fa fa-plus\"\n    }, null, -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_18)])])]), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"button\", {\n      onClick: $event => $options.removeFromCart(item.product.id),\n      class: \"btn btn-danger btn-sm\"\n    }, [...(_cache[2] || (_cache[2] = [_createElementVNode(\"i\", {\n      class: \"fa fa-trash\"\n    }, null, -1 /* HOISTED */), _createTextVNode(\" Remove \")]))], 8 /* PROPS */, _hoisted_21)])])])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])])]);\n}","map":{"version":3,"names":["class","href","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createStaticVNode","_Fragment","_renderList","$data","cartItems","item","key","product","id","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","src","imageUrl","style","alt","_hoisted_10","_createTextVNode","_toDisplayString","name","_hoisted_11","_hoisted_12","price","_hoisted_13","_hoisted_14","_hoisted_15","onClick","$event","$options","updateQuantity","quantity","_hoisted_16","type","onChange","min","_hoisted_17","number","_hoisted_18","_hoisted_19","_hoisted_20","removeFromCart","_hoisted_21"],"sources":["C:\\Users\\Hedib\\OneDrive\\Bureau\\hello-word-vue\\src\\components\\user\\UserCart.vue"],"sourcesContent":["<!-- src/components/user/UserCart.vue -->\n<template>\n  <div class=\"py-3 py-md-5 bg-light\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-md-12\">\n          <div class=\"shopping-cart\">\n            <div class=\"cart-header d-none d-sm-none d-mb-block d-lg-block\">\n              <div class=\"row\">\n                <div class=\"col-md-6\">\n                  <h4>Products</h4>\n                </div>\n                <div class=\"col-md-2\">\n                  <h4>Price</h4>\n                </div>\n                <div class=\"col-md-2\">\n                  <h4>Quantity</h4>\n                </div>\n                <div class=\"col-md-2\">\n                  <h4>Remove</h4>\n                </div>\n              </div>\n            </div>\n\n            <div\n              v-for=\"item in cartItems\"\n              :key=\"item.product.id\"\n              class=\"cart-item\"\n            >\n              <div class=\"row\">\n                <div class=\"col-md-6 my-auto\">\n                  <a href=\"\">\n                    <label class=\"product-name\">\n                      <img\n                        :src=\"item.product.imageUrl\"\n                        style=\"width: 50px; height: 50px\"\n                        alt=\"Product Image\"\n                      />\n                      {{ item.product.name }}\n                    </label>\n                  </a>\n                </div>\n                <div class=\"col-md-2 my-auto\">\n                  <label class=\"price\">${{ item.product.price }}</label>\n                </div>\n                <div class=\"col-md-2 col-7 my-auto\">\n                  <div class=\"quantity\">\n                    <div class=\"input-group\">\n                      <span\n                        class=\"btn btn1\"\n                        @click=\"\n                          updateQuantity(item.product.id, item.quantity - 1)\n                        \"\n                      >\n                        <i class=\"fa fa-minus\"></i>\n                      </span>\n                      <input\n                        type=\"number\"\n                        v-model.number=\"item.quantity\"\n                        class=\"input-quantity\"\n                        @change=\"updateQuantity(item.product.id, item.quantity)\"\n                        min=\"1\"\n                      />\n                      <span\n                        class=\"btn btn1\"\n                        @click=\"\n                          updateQuantity(item.product.id, item.quantity + 1)\n                        \"\n                      >\n                        <i class=\"fa fa-plus\"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col-md-2 col-5 my-auto\">\n                  <div class=\"remove\">\n                    <button\n                      @click=\"removeFromCart(item.product.id)\"\n                      class=\"btn btn-danger btn-sm\"\n                    >\n                      <i class=\"fa fa-trash\"></i> Remove\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport CartService from '@/services/CartService';\nimport AuthService from '@/services/AuthService';\n\nexport default {\n  name: 'UserCart',\n  data() {\n    return {\n      cartItems: [],\n      userId: null,\n    };\n  },\n  async created() {\n    this.userId = AuthService.getCurrentUser().id;\n    await this.fetchCartItems();\n  },\n  methods: {\n    async fetchCartItems() {\n      try {\n        const response = await CartService.getCart(this.userId);\n        this.cartItems = response.data.items || [];\n      } catch (error) {\n        console.error('Error fetching cart items:', error);\n      }\n    },\n    async removeFromCart(productId) {\n      try {\n        await CartService.removeFromCart(this.userId, productId);\n        this.cartItems = this.cartItems.filter(\n          (item) => item.product.id !== productId\n        );\n      } catch (error) {\n        console.error('Error removing item from cart:', error);\n      }\n    },\n    async updateQuantity(productId, quantity) {\n      if (quantity < 1) return;\n      try {\n        await CartService.updateQuantity(this.userId, productId, quantity);\n        const item = this.cartItems.find(\n          (item) => item.product.id === productId\n        );\n        if (item) {\n          item.quantity = quantity;\n        }\n      } catch (error) {\n        console.error('Error updating quantity:', error);\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* Cart or Wishlist */\n.shopping-cart .cart-header {\n  padding: 10px;\n}\n.shopping-cart .cart-header h4 {\n  font-size: 18px;\n  margin-bottom: 0px;\n}\n.shopping-cart .cart-item a {\n  text-decoration: none;\n}\n.shopping-cart .cart-item {\n  background-color: #fff;\n  box-shadow: 0 0.125rem 0.25rem rgb(0 0 0 / 8%);\n  padding: 10px 10px;\n  margin-top: 10px;\n}\n.shopping-cart .cart-item .product-name {\n  font-size: 16px;\n  font-weight: 600;\n  width: 100%;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  cursor: pointer;\n}\n.shopping-cart .cart-item .price {\n  font-size: 16px;\n  font-weight: 600;\n  padding: 4px 2px;\n}\n.shopping-cart .btn1 {\n  border: 1px solid;\n  margin-right: 3px;\n  border-radius: 0px;\n  font-size: 10px;\n}\n.shopping-cart .btn1:hover {\n  background-color: #2874f0;\n  color: #fff;\n}\n.shopping-cart .input-quantity {\n  border: 1px solid #000;\n  margin-right: 3px;\n  font-size: 12px;\n  width: 40%;\n  outline: none;\n  text-align: center;\n}\n/* Cart or Wishlist */\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}