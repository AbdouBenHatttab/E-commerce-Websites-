{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.some.js\";\nimport { createRouter, createWebHistory } from \"vue-router\";\nimport HomePage from \"@/components/HomePage.vue\";\nimport LoginPage from \"@/components/LoginPage.vue\";\nimport RegisterPage from \"@/components/RegisterPage.vue\";\nimport AdminDashboard from \"@/components/admin/AdminDashboard.vue\";\nimport AdminProfile from \"@/components/admin/AdminProfile.vue\";\nimport AdminUsers from \"@/components/admin/AdminUsers.vue\";\nimport AdminProducts from \"@/components/admin/AdminProducts.vue\";\nimport UserDashboard from \"@/components/user/UserDashboard.vue\";\nimport UserProfile from \"@/components/user/UserProfile.vue\";\nimport ProductList from \"@/components/user/ProductList.vue\";\nimport UserCart from \"@/components/user/UserCart.vue\";\nimport AuthService from \"@/services/AuthService\";\nconst routes = [{\n  path: \"/\",\n  name: \"Home\",\n  component: HomePage\n}, {\n  path: \"/login\",\n  name: \"Login\",\n  component: LoginPage\n}, {\n  path: \"/register\",\n  name: \"Register\",\n  component: RegisterPage\n},\n// Admin routes\n{\n  path: \"/admin/dashboard\",\n  name: \"AdminDashboard\",\n  component: AdminDashboard,\n  meta: {\n    requiresAuth: true,\n    role: \"ADMIN\"\n  }\n}, {\n  path: \"/admin/profile\",\n  name: \"AdminProfile\",\n  component: AdminProfile,\n  meta: {\n    requiresAuth: true,\n    role: \"ADMIN\"\n  }\n}, {\n  path: \"/admin/users\",\n  name: \"AdminUsers\",\n  component: AdminUsers,\n  meta: {\n    requiresAuth: true,\n    role: \"ADMIN\"\n  }\n}, {\n  path: \"/admin/products\",\n  name: \"AdminProducts\",\n  component: AdminProducts,\n  meta: {\n    requiresAuth: true,\n    role: \"ADMIN\"\n  }\n},\n// User routes\n{\n  path: \"/user/dashboard\",\n  name: \"UserDashboard\",\n  component: UserDashboard,\n  meta: {\n    requiresAuth: true,\n    role: \"USER\"\n  }\n}, {\n  path: \"/user/profile\",\n  name: \"UserProfile\",\n  component: UserProfile,\n  meta: {\n    requiresAuth: true,\n    role: \"USER\"\n  }\n}, {\n  path: \"/products\",\n  name: \"ProductList\",\n  component: ProductList\n}, {\n  path: \"/cart\",\n  name: \"UserCart\",\n  component: UserCart\n}];\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n});\nrouter.beforeEach((to, from, next) => {\n  const requiresAuth = to.matched.some(record => record.meta.requiresAuth);\n  const user = AuthService.getUser();\n  const role = user ? user.role : null;\n  if (requiresAuth && !user) {\n    next({\n      name: \"Login\"\n    });\n  } else if (requiresAuth && to.meta.role && to.meta.role !== role) {\n    next({\n      name: \"Home\"\n    });\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","HomePage","LoginPage","RegisterPage","AdminDashboard","AdminProfile","AdminUsers","AdminProducts","UserDashboard","UserProfile","ProductList","UserCart","AuthService","routes","path","name","component","meta","requiresAuth","role","router","history","process","env","BASE_URL","beforeEach","to","from","next","matched","some","record","user","getUser"],"sources":["C:/Users/Hedib/OneDrive/Bureau/hello-word-vue/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from \"vue-router\";\nimport HomePage from \"@/components/HomePage.vue\";\nimport LoginPage from \"@/components/LoginPage.vue\";\nimport RegisterPage from \"@/components/RegisterPage.vue\";\nimport AdminDashboard from \"@/components/admin/AdminDashboard.vue\";\nimport AdminProfile from \"@/components/admin/AdminProfile.vue\";\nimport AdminUsers from \"@/components/admin/AdminUsers.vue\";\nimport AdminProducts from \"@/components/admin/AdminProducts.vue\";\nimport UserDashboard from \"@/components/user/UserDashboard.vue\";\nimport UserProfile from \"@/components/user/UserProfile.vue\";\nimport ProductList from \"@/components/user/ProductList.vue\";\nimport UserCart from \"@/components/user/UserCart.vue\";\nimport AuthService from \"@/services/AuthService\";\n\nconst routes = [\n  { path: \"/\", name: \"Home\", component: HomePage },\n  { path: \"/login\", name: \"Login\", component: LoginPage },\n  { path: \"/register\", name: \"Register\", component: RegisterPage },\n  // Admin routes\n  {\n    path: \"/admin/dashboard\",\n    name: \"AdminDashboard\",\n    component: AdminDashboard,\n    meta: { requiresAuth: true, role: \"ADMIN\" },\n  },\n  {\n    path: \"/admin/profile\",\n    name: \"AdminProfile\",\n    component: AdminProfile,\n    meta: { requiresAuth: true, role: \"ADMIN\" },\n  },\n  {\n    path: \"/admin/users\",\n    name: \"AdminUsers\",\n    component: AdminUsers,\n    meta: { requiresAuth: true, role: \"ADMIN\" },\n  },\n  {\n    path: \"/admin/products\",\n    name: \"AdminProducts\",\n    component: AdminProducts,\n    meta: { requiresAuth: true, role: \"ADMIN\" },\n  },\n  // User routes\n  {\n    path: \"/user/dashboard\",\n    name: \"UserDashboard\",\n    component: UserDashboard,\n    meta: { requiresAuth: true, role: \"USER\" },\n  },\n  {\n    path: \"/user/profile\",\n    name: \"UserProfile\",\n    component: UserProfile,\n    meta: { requiresAuth: true, role: \"USER\" },\n  },\n  {\n    path: \"/products\",\n    name: \"ProductList\",\n    component: ProductList,\n  },\n  {\n    path: \"/cart\",\n    name: \"UserCart\",\n    component: UserCart,\n  },\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n});\n\nrouter.beforeEach((to, from, next) => {\n  const requiresAuth = to.matched.some((record) => record.meta.requiresAuth);\n  const user = AuthService.getUser();\n  const role = user ? user.role : null;\n\n  if (requiresAuth && !user) {\n    next({ name: \"Login\" });\n  } else if (requiresAuth && to.meta.role && to.meta.role !== role) {\n    next({ name: \"Home\" });\n  } else {\n    next();\n  }\n});\n\nexport default router;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}