{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\nimport CartService from '@/services/CartService';\nimport AuthService from '@/services/AuthService';\nexport default {\n  name: 'UserCart',\n  data() {\n    return {\n      cartItems: [],\n      userId: null\n    };\n  },\n  async created() {\n    this.userId = AuthService.getCurrentUser().id;\n    await this.fetchCartItems();\n  },\n  methods: {\n    async fetchCartItems() {\n      try {\n        const response = await CartService.getCart(this.userId);\n        this.cartItems = response.data.items || [];\n      } catch (error) {\n        console.error('Error fetching cart items:', error);\n      }\n    },\n    async removeFromCart(productId) {\n      try {\n        await CartService.removeFromCart(this.userId, productId);\n        this.cartItems = this.cartItems.filter(item => item.product.id !== productId);\n      } catch (error) {\n        console.error('Error removing item from cart:', error);\n      }\n    },\n    async updateQuantity(productId, quantity) {\n      if (quantity < 1) return;\n      try {\n        await CartService.updateQuantity(this.userId, productId, quantity);\n        const item = this.cartItems.find(item => item.product.id === productId);\n        if (item) {\n          item.quantity = quantity;\n        }\n      } catch (error) {\n        console.error('Error updating quantity:', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["CartService","AuthService","name","data","cartItems","userId","created","getCurrentUser","id","fetchCartItems","methods","response","getCart","items","error","console","removeFromCart","productId","filter","item","product","updateQuantity","quantity","find"],"sources":["C:\\Users\\Hedib\\OneDrive\\Bureau\\hello-word-vue\\src\\components\\user\\UserCart.vue"],"sourcesContent":["<!-- src/components/user/UserCart.vue -->\n<template>\n  <div class=\"py-3 py-md-5 bg-light\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-md-12\">\n          <div class=\"shopping-cart\">\n            <div class=\"cart-header d-none d-sm-none d-mb-block d-lg-block\">\n              <div class=\"row\">\n                <div class=\"col-md-6\">\n                  <h4>Products</h4>\n                </div>\n                <div class=\"col-md-2\">\n                  <h4>Price</h4>\n                </div>\n                <div class=\"col-md-2\">\n                  <h4>Quantity</h4>\n                </div>\n                <div class=\"col-md-2\">\n                  <h4>Remove</h4>\n                </div>\n              </div>\n            </div>\n\n            <div\n              v-for=\"item in cartItems\"\n              :key=\"item.product.id\"\n              class=\"cart-item\"\n            >\n              <div class=\"row\">\n                <div class=\"col-md-6 my-auto\">\n                  <a href=\"\">\n                    <label class=\"product-name\">\n                      <img\n                        :src=\"item.product.imageUrl\"\n                        style=\"width: 50px; height: 50px\"\n                        alt=\"Product Image\"\n                      />\n                      {{ item.product.name }}\n                    </label>\n                  </a>\n                </div>\n                <div class=\"col-md-2 my-auto\">\n                  <label class=\"price\">${{ item.product.price }}</label>\n                </div>\n                <div class=\"col-md-2 col-7 my-auto\">\n                  <div class=\"quantity\">\n                    <div class=\"input-group\">\n                      <span\n                        class=\"btn btn1\"\n                        @click=\"\n                          updateQuantity(item.product.id, item.quantity - 1)\n                        \"\n                      >\n                        <i class=\"fa fa-minus\"></i>\n                      </span>\n                      <input\n                        type=\"number\"\n                        v-model.number=\"item.quantity\"\n                        class=\"input-quantity\"\n                        @change=\"updateQuantity(item.product.id, item.quantity)\"\n                        min=\"1\"\n                      />\n                      <span\n                        class=\"btn btn1\"\n                        @click=\"\n                          updateQuantity(item.product.id, item.quantity + 1)\n                        \"\n                      >\n                        <i class=\"fa fa-plus\"></i>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col-md-2 col-5 my-auto\">\n                  <div class=\"remove\">\n                    <button\n                      @click=\"removeFromCart(item.product.id)\"\n                      class=\"btn btn-danger btn-sm\"\n                    >\n                      <i class=\"fa fa-trash\"></i> Remove\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport CartService from '@/services/CartService';\nimport AuthService from '@/services/AuthService';\n\nexport default {\n  name: 'UserCart',\n  data() {\n    return {\n      cartItems: [],\n      userId: null,\n    };\n  },\n  async created() {\n    this.userId = AuthService.getCurrentUser().id;\n    await this.fetchCartItems();\n  },\n  methods: {\n    async fetchCartItems() {\n      try {\n        const response = await CartService.getCart(this.userId);\n        this.cartItems = response.data.items || [];\n      } catch (error) {\n        console.error('Error fetching cart items:', error);\n      }\n    },\n    async removeFromCart(productId) {\n      try {\n        await CartService.removeFromCart(this.userId, productId);\n        this.cartItems = this.cartItems.filter(\n          (item) => item.product.id !== productId\n        );\n      } catch (error) {\n        console.error('Error removing item from cart:', error);\n      }\n    },\n    async updateQuantity(productId, quantity) {\n      if (quantity < 1) return;\n      try {\n        await CartService.updateQuantity(this.userId, productId, quantity);\n        const item = this.cartItems.find(\n          (item) => item.product.id === productId\n        );\n        if (item) {\n          item.quantity = quantity;\n        }\n      } catch (error) {\n        console.error('Error updating quantity:', error);\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* Cart or Wishlist */\n.shopping-cart .cart-header {\n  padding: 10px;\n}\n.shopping-cart .cart-header h4 {\n  font-size: 18px;\n  margin-bottom: 0px;\n}\n.shopping-cart .cart-item a {\n  text-decoration: none;\n}\n.shopping-cart .cart-item {\n  background-color: #fff;\n  box-shadow: 0 0.125rem 0.25rem rgb(0 0 0 / 8%);\n  padding: 10px 10px;\n  margin-top: 10px;\n}\n.shopping-cart .cart-item .product-name {\n  font-size: 16px;\n  font-weight: 600;\n  width: 100%;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  cursor: pointer;\n}\n.shopping-cart .cart-item .price {\n  font-size: 16px;\n  font-weight: 600;\n  padding: 4px 2px;\n}\n.shopping-cart .btn1 {\n  border: 1px solid;\n  margin-right: 3px;\n  border-radius: 0px;\n  font-size: 10px;\n}\n.shopping-cart .btn1:hover {\n  background-color: #2874f0;\n  color: #fff;\n}\n.shopping-cart .input-quantity {\n  border: 1px solid #000;\n  margin-right: 3px;\n  font-size: 12px;\n  width: 40%;\n  outline: none;\n  text-align: center;\n}\n/* Cart or Wishlist */\n</style>\n"],"mappings":";;;AA8FA,OAAOA,WAAU,MAAO,wBAAwB;AAChD,OAAOC,WAAU,MAAO,wBAAwB;AAEhD,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,MAAM,EAAE;IACV,CAAC;EACH,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,IAAI,CAACD,MAAK,GAAIJ,WAAW,CAACM,cAAc,CAAC,CAAC,CAACC,EAAE;IAC7C,MAAM,IAAI,CAACC,cAAc,CAAC,CAAC;EAC7B,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,cAAcA,CAAA,EAAG;MACrB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMX,WAAW,CAACY,OAAO,CAAC,IAAI,CAACP,MAAM,CAAC;QACvD,IAAI,CAACD,SAAQ,GAAIO,QAAQ,CAACR,IAAI,CAACU,KAAI,IAAK,EAAE;MAC5C,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MACpD;IACF,CAAC;IACD,MAAME,cAAcA,CAACC,SAAS,EAAE;MAC9B,IAAI;QACF,MAAMjB,WAAW,CAACgB,cAAc,CAAC,IAAI,CAACX,MAAM,EAAEY,SAAS,CAAC;QACxD,IAAI,CAACb,SAAQ,GAAI,IAAI,CAACA,SAAS,CAACc,MAAM,CACnCC,IAAI,IAAKA,IAAI,CAACC,OAAO,CAACZ,EAAC,KAAMS,SAChC,CAAC;MACH,EAAE,OAAOH,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACxD;IACF,CAAC;IACD,MAAMO,cAAcA,CAACJ,SAAS,EAAEK,QAAQ,EAAE;MACxC,IAAIA,QAAO,GAAI,CAAC,EAAE;MAClB,IAAI;QACF,MAAMtB,WAAW,CAACqB,cAAc,CAAC,IAAI,CAAChB,MAAM,EAAEY,SAAS,EAAEK,QAAQ,CAAC;QAClE,MAAMH,IAAG,GAAI,IAAI,CAACf,SAAS,CAACmB,IAAI,CAC7BJ,IAAI,IAAKA,IAAI,CAACC,OAAO,CAACZ,EAAC,KAAMS,SAChC,CAAC;QACD,IAAIE,IAAI,EAAE;UACRA,IAAI,CAACG,QAAO,GAAIA,QAAQ;QAC1B;MACF,EAAE,OAAOR,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAClD;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}