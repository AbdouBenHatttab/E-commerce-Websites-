{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mt-5\"\n};\nconst _hoisted_2 = {\n  class: \"table mt-3\"\n};\nconst _hoisted_3 = [\"onUpdate:modelValue\"];\nconst _hoisted_4 = [\"onUpdate:modelValue\"];\nconst _hoisted_5 = [\"onUpdate:modelValue\"];\nconst _hoisted_6 = [\"onUpdate:modelValue\"];\nconst _hoisted_7 = [\"onUpdate:modelValue\"];\nconst _hoisted_8 = [\"onUpdate:modelValue\"];\nconst _hoisted_9 = [\"onClick\"];\nconst _hoisted_10 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[3] || (_cache[3] = _createElementVNode(\"h2\", null, \"Manage Users\", -1 /* HOISTED */)), _createElementVNode(\"table\", _hoisted_2, [_cache[2] || (_cache[2] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"ID\"), _createElementVNode(\"th\", null, \"Name\"), _createElementVNode(\"th\", null, \"Email\"), _createElementVNode(\"th\", null, \"Phone Number\"), _createElementVNode(\"th\", null, \"Address\"), _createElementVNode(\"th\", null, \"Image URL\"), _createElementVNode(\"th\", null, \"Role\"), _createElementVNode(\"th\", null, \"Status\"), _createElementVNode(\"th\", null, \"Actions\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.users, user => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: user.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(user.id), 1 /* TEXT */), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": $event => user.name = $event,\n      class: \"form-control\"\n    }, null, 8 /* PROPS */, _hoisted_3), [[_vModelText, user.name]])]), _createElementVNode(\"td\", null, _toDisplayString(user.email), 1 /* TEXT */), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": $event => user.phoneNumber = $event,\n      class: \"form-control\"\n    }, null, 8 /* PROPS */, _hoisted_4), [[_vModelText, user.phoneNumber]])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": $event => user.address = $event,\n      class: \"form-control\"\n    }, null, 8 /* PROPS */, _hoisted_5), [[_vModelText, user.address]])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": $event => user.imageUrl = $event,\n      class: \"form-control\"\n    }, null, 8 /* PROPS */, _hoisted_6), [[_vModelText, user.imageUrl]])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"select\", {\n      \"onUpdate:modelValue\": $event => user.role = $event,\n      class: \"form-select\"\n    }, [...(_cache[0] || (_cache[0] = [_createElementVNode(\"option\", {\n      value: \"ROLE_USER\"\n    }, \"User\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n      value: \"ROLE_ADMIN\"\n    }, \"Admin\", -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_7), [[_vModelSelect, user.role]])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"select\", {\n      \"onUpdate:modelValue\": $event => user.status = $event,\n      class: \"form-select\"\n    }, [...(_cache[1] || (_cache[1] = [_createElementVNode(\"option\", {\n      value: \"ACTIVE\"\n    }, \"Active\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n      value: \"INACTIVE\"\n    }, \"Inactive\", -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_8), [[_vModelSelect, user.status]])]), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      class: \"btn btn-success btn-sm me-2\",\n      onClick: $event => $options.updateUser(user)\n    }, \" Save \", 8 /* PROPS */, _hoisted_9), _createElementVNode(\"button\", {\n      class: \"btn btn-danger btn-sm\",\n      onClick: $event => $options.deleteUser(user.id)\n    }, \" Delete \", 8 /* PROPS */, _hoisted_10)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_Fragment","_renderList","$data","users","user","key","id","_toDisplayString","$event","name","_hoisted_3","email","phoneNumber","_hoisted_4","address","_hoisted_5","imageUrl","_hoisted_6","role","value","_hoisted_7","status","_hoisted_8","onClick","$options","updateUser","_hoisted_9","deleteUser","_hoisted_10"],"sources":["C:\\Users\\Hedib\\OneDrive\\Bureau\\hello-word-vue\\src\\components\\admin\\AdminUsers.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-5\">\n    <h2>Manage Users</h2>\n    <table class=\"table mt-3\">\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Name</th>\n          <th>Email</th>\n          <th>Phone Number</th>\n          <th>Address</th>\n          <th>Image URL</th>\n          <th>Role</th>\n          <th>Status</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"user in users\" :key=\"user.id\">\n          <td>{{ user.id }}</td>\n          <td><input v-model=\"user.name\" class=\"form-control\" /></td>\n          <td>{{ user.email }}</td>\n          <td><input v-model=\"user.phoneNumber\" class=\"form-control\" /></td>\n          <td><input v-model=\"user.address\" class=\"form-control\" /></td>\n          <td><input v-model=\"user.imageUrl\" class=\"form-control\" /></td>\n          <td>\n            <select v-model=\"user.role\" class=\"form-select\">\n              <option value=\"ROLE_USER\">User</option>\n              <option value=\"ROLE_ADMIN\">Admin</option>\n            </select>\n          </td>\n          <td>\n            <select v-model=\"user.status\" class=\"form-select\">\n              <option value=\"ACTIVE\">Active</option>\n              <option value=\"INACTIVE\">Inactive</option>\n            </select>\n          </td>\n          <td>\n            <button\n              class=\"btn btn-success btn-sm me-2\"\n              @click=\"updateUser(user)\"\n            >\n              Save\n            </button>\n            <button class=\"btn btn-danger btn-sm\" @click=\"deleteUser(user.id)\">\n              Delete\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport UserService from '@/services/UserService';\n\nexport default {\n  data() {\n    return {\n      users: [],\n    };\n  },\n  async created() {\n    await this.fetchUsers();\n  },\n  methods: {\n    async fetchUsers() {\n      try {\n        const response = await UserService.getAllUsers();\n        this.users = response.data;\n      } catch (error) {\n        console.error('Error fetching users:', error);\n      }\n    },\n    async updateUser(user) {\n      try {\n        console.log('Sending update request for user:', user);\n        await UserService.updateUser(user.id, {\n          name: user.name,\n          email: user.email,\n          phoneNumber: user.phoneNumber,\n          address: user.address,\n          imageUrl: user.imageUrl,\n          role: user.role,\n          status: user.status,\n        });\n        alert('User updated successfully!');\n      } catch (error) {\n        console.error('Error updating user:', error);\n        alert('Failed to update user.');\n      }\n    },\n    async deleteUser(id) {\n      try {\n        await UserService.deleteUser(id);\n        this.users = this.users.filter((user) => user.id !== id);\n        alert('User deleted successfully!');\n      } catch (error) {\n        console.error('Error deleting user:', error);\n        alert('Failed to delete user.');\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* Custom styling */\n.table th, \n.table td {\n  vertical-align: middle;\n}\n\n.form-control {\n  max-width: 250px;\n}\n\n.btn-sm {\n  font-size: 12px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}