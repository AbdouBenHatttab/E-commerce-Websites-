{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport AuthService from '@/services/AuthService';\nexport default {\n  name: 'AdminProfile',\n  data() {\n    return {\n      user: null,\n      userForm: {\n        name: '',\n        email: '',\n        phoneNumber: '',\n        address: ''\n      },\n      isModalVisible: false,\n      profile: {\n        name: '',\n        email: ''\n      },\n      loading: false,\n      error: '',\n      success: ''\n    };\n  },\n  async mounted() {\n    this.fetchAdminProfile();\n  },\n  async created() {\n    await this.fetchProfile();\n  },\n  methods: {\n    async fetchAdminProfile() {\n      try {\n        this.user = AuthService.getCurrentUser();\n        this.userForm = {\n          ...this.user\n        };\n      } catch (error) {\n        console.error('Error fetching admin profile:', error);\n      }\n    },\n    async fetchProfile() {\n      try {\n        const user = AuthService.getUser();\n        this.profile.name = user.name;\n        this.profile.email = user.email;\n      } catch (error) {\n        console.error('Error fetching profile:', error);\n      }\n    },\n    showModal() {\n      this.isModalVisible = true;\n    },\n    closeModal() {\n      this.isModalVisible = false;\n    },\n    async updateProfile() {\n      this.loading = true;\n      this.error = '';\n      this.success = '';\n      try {\n        const response = await AuthService.updateProfile(this.profile);\n        this.success = 'Profile updated successfully!';\n        console.log('Profile updated:', response.data);\n        this.user = {\n          ...this.userForm\n        };\n        this.closeModal();\n      } catch (error) {\n        console.error('Error updating profile:', error);\n        this.error = 'Failed to update profile.';\n      } finally {\n        this.loading = false;\n      }\n    },\n    goBack() {\n      this.$router.push({\n        name: 'AdminDashboard'\n      });\n    }\n  }\n};","map":{"version":3,"names":["AuthService","name","data","user","userForm","email","phoneNumber","address","isModalVisible","profile","loading","error","success","mounted","fetchAdminProfile","created","fetchProfile","methods","getCurrentUser","console","getUser","showModal","closeModal","updateProfile","response","log","goBack","$router","push"],"sources":["C:\\Users\\Hedib\\OneDrive\\Bureau\\hello-word-vue\\src\\components\\admin\\AdminProfile.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-5\">\n    <h2 class=\"text-center mb-4\">Admin Profile</h2>\n\n    <!-- Loading State -->\n    <div v-if=\"!user\" class=\"d-flex justify-content-center\">\n      <div class=\"spinner-border\" role=\"status\">\n        <span class=\"visually-hidden\">Loading...</span>\n      </div>\n    </div>\n\n    <!-- Profile Section -->\n    <div v-else>\n      <div class=\"row justify-content-center\">\n        <!-- Profile Image and Info -->\n        <div class=\"col-lg-4 col-md-6 text-center\">\n          <div class=\"card shadow-sm\">\n            <img\n              v-if=\"user.imageUrl\"\n              :src=\"user.imageUrl\"\n              class=\"card-img-top rounded-circle mx-auto mt-3\"\n              alt=\"User Image\"\n              style=\"width: 150px; height: 150px; object-fit: cover\"\n            />\n            <img\n              v-else\n              src=\"https://via.placeholder.com/150\"\n              class=\"card-img-top rounded-circle mx-auto mt-3\"\n              alt=\"Default Image\"\n              style=\"width: 150px; height: 150px; object-fit: cover\"\n            />\n            <div class=\"card-body\">\n              <h4 class=\"card-title\">{{ user.name }}</h4>\n              <p class=\"card-text text-muted\">{{ user.role }}</p>\n              <p class=\"text-secondary\">{{ user.status }}</p>\n            </div>\n          </div>\n        </div>\n\n        <!-- User Info and Actions -->\n        <div class=\"col-lg-6 col-md-8\">\n          <div class=\"card shadow-sm mb-4\">\n            <div class=\"card-body\">\n              <h5 class=\"card-title\">Personal Information</h5>\n              <ul class=\"list-unstyled\">\n                <li><strong>Email:</strong> {{ user.email }}</li>\n                <li><strong>Phone:</strong> {{ user.phoneNumber || 'N/A' }}</li>\n                <li><strong>Address:</strong> {{ user.address || 'N/A' }}</li>\n              </ul>\n              <button @click=\"showModal\" class=\"btn btn-primary w-100\">\n                Edit Profile\n              </button>\n              <button @click=\"goBack\" class=\"btn btn-secondary w-100 mt-3\">\n                Back to Dashboard\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Edit Profile Modal -->\n    <div\n      v-if=\"isModalVisible\"\n      class=\"modal fade show\"\n      tabindex=\"-1\"\n      aria-labelledby=\"editProfileModalLabel\"\n      aria-hidden=\"true\"\n      style=\"display: block\"\n    >\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"editProfileModalLabel\">Edit Profile</h5>\n            <button\n              type=\"button\"\n              class=\"btn-close\"\n              @click=\"closeModal\"\n              aria-label=\"Close\"\n            ></button>\n          </div>\n          <div class=\"modal-body\">\n            <form @submit.prevent=\"updateProfile\">\n              <div class=\"mb-3\">\n                <label for=\"name\">Name:</label>\n                <input\n                  id=\"name\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  v-model=\"userForm.name\"\n                  required\n                />\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"email\">Email:</label>\n                <input\n                  id=\"email\"\n                  type=\"email\"\n                  class=\"form-control\"\n                  v-model=\"userForm.email\"\n                  required\n                />\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"phoneNumber\">Phone Number:</label>\n                <input\n                  id=\"phoneNumber\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  v-model=\"userForm.phoneNumber\"\n                />\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"address\">Address:</label>\n                <input\n                  id=\"address\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  v-model=\"userForm.address\"\n                />\n              </div>\n              <button type=\"submit\" class=\"btn btn-success w-100\">\n                Update Profile\n              </button>\n              <button\n                type=\"button\"\n                class=\"btn btn-secondary w-100 mt-2\"\n                @click=\"closeModal\"\n              >\n                Cancel\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AuthService from '@/services/AuthService';\n\nexport default {\n  name: 'AdminProfile',\n  data() {\n    return {\n      user: null,\n      userForm: {\n        name: '',\n        email: '',\n        phoneNumber: '',\n        address: '',\n      },\n      isModalVisible: false,\n      profile: {\n        name: '',\n        email: '',\n      },\n      loading: false,\n      error: '',\n      success: '',\n    };\n  },\n  async mounted() {\n    this.fetchAdminProfile();\n  },\n  async created() {\n    await this.fetchProfile();\n  },\n  methods: {\n    async fetchAdminProfile() {\n      try {\n        this.user = AuthService.getCurrentUser();\n        this.userForm = { ...this.user };\n      } catch (error) {\n        console.error('Error fetching admin profile:', error);\n      }\n    },\n    async fetchProfile() {\n      try {\n        const user = AuthService.getUser();\n        this.profile.name = user.name;\n        this.profile.email = user.email;\n      } catch (error) {\n        console.error('Error fetching profile:', error);\n      }\n    },\n    showModal() {\n      this.isModalVisible = true;\n    },\n    closeModal() {\n      this.isModalVisible = false;\n    },\n    async updateProfile() {\n      this.loading = true;\n      this.error = '';\n      this.success = '';\n      try {\n        const response = await AuthService.updateProfile(this.profile);\n        this.success = 'Profile updated successfully!';\n        console.log('Profile updated:', response.data);\n        this.user = { ...this.userForm };\n        this.closeModal();\n      } catch (error) {\n        console.error('Error updating profile:', error);\n        this.error = 'Failed to update profile.';\n      } finally {\n        this.loading = false;\n      }\n    },\n    goBack() {\n      this.$router.push({ name: 'AdminDashboard' });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.card-img-top {\n  width: 150px;\n  height: 150px;\n  object-fit: cover;\n}\n\n.card-body {\n  padding: 1.25rem;\n}\n\n.btn {\n  font-weight: 600;\n}\n\n.btn-primary,\n.btn-secondary {\n  margin-top: 15px;\n}\n\n.spinner-border {\n  width: 3rem;\n  height: 3rem;\n}\n\n.card {\n  border-radius: 15px;\n  overflow: hidden;\n}\n\n.list-unstyled li {\n  margin-bottom: 10px;\n}\n</style>\n"],"mappings":";AA4IA,OAAOA,WAAU,MAAO,wBAAwB;AAEhD,eAAe;EACbC,IAAI,EAAE,cAAc;EACpBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,IAAI;MACVC,QAAQ,EAAE;QACRH,IAAI,EAAE,EAAE;QACRI,KAAK,EAAE,EAAE;QACTC,WAAW,EAAE,EAAE;QACfC,OAAO,EAAE;MACX,CAAC;MACDC,cAAc,EAAE,KAAK;MACrBC,OAAO,EAAE;QACPR,IAAI,EAAE,EAAE;QACRI,KAAK,EAAE;MACT,CAAC;MACDK,OAAO,EAAE,KAAK;MACdC,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,IAAI,CAACC,iBAAiB,CAAC,CAAC;EAC1B,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,MAAM,IAAI,CAACC,YAAY,CAAC,CAAC;EAC3B,CAAC;EACDC,OAAO,EAAE;IACP,MAAMH,iBAAiBA,CAAA,EAAG;MACxB,IAAI;QACF,IAAI,CAACX,IAAG,GAAIH,WAAW,CAACkB,cAAc,CAAC,CAAC;QACxC,IAAI,CAACd,QAAO,GAAI;UAAE,GAAG,IAAI,CAACD;QAAK,CAAC;MAClC,EAAE,OAAOQ,KAAK,EAAE;QACdQ,OAAO,CAACR,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACvD;IACF,CAAC;IACD,MAAMK,YAAYA,CAAA,EAAG;MACnB,IAAI;QACF,MAAMb,IAAG,GAAIH,WAAW,CAACoB,OAAO,CAAC,CAAC;QAClC,IAAI,CAACX,OAAO,CAACR,IAAG,GAAIE,IAAI,CAACF,IAAI;QAC7B,IAAI,CAACQ,OAAO,CAACJ,KAAI,GAAIF,IAAI,CAACE,KAAK;MACjC,EAAE,OAAOM,KAAK,EAAE;QACdQ,OAAO,CAACR,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MACjD;IACF,CAAC;IACDU,SAASA,CAAA,EAAG;MACV,IAAI,CAACb,cAAa,GAAI,IAAI;IAC5B,CAAC;IACDc,UAAUA,CAAA,EAAG;MACX,IAAI,CAACd,cAAa,GAAI,KAAK;IAC7B,CAAC;IACD,MAAMe,aAAaA,CAAA,EAAG;MACpB,IAAI,CAACb,OAAM,GAAI,IAAI;MACnB,IAAI,CAACC,KAAI,GAAI,EAAE;MACf,IAAI,CAACC,OAAM,GAAI,EAAE;MACjB,IAAI;QACF,MAAMY,QAAO,GAAI,MAAMxB,WAAW,CAACuB,aAAa,CAAC,IAAI,CAACd,OAAO,CAAC;QAC9D,IAAI,CAACG,OAAM,GAAI,+BAA+B;QAC9CO,OAAO,CAACM,GAAG,CAAC,kBAAkB,EAAED,QAAQ,CAACtB,IAAI,CAAC;QAC9C,IAAI,CAACC,IAAG,GAAI;UAAE,GAAG,IAAI,CAACC;QAAS,CAAC;QAChC,IAAI,CAACkB,UAAU,CAAC,CAAC;MACnB,EAAE,OAAOX,KAAK,EAAE;QACdQ,OAAO,CAACR,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;QAC/C,IAAI,CAACA,KAAI,GAAI,2BAA2B;MAC1C,UAAU;QACR,IAAI,CAACD,OAAM,GAAI,KAAK;MACtB;IACF,CAAC;IACDgB,MAAMA,CAAA,EAAG;MACP,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;QAAE3B,IAAI,EAAE;MAAiB,CAAC,CAAC;IAC/C;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}