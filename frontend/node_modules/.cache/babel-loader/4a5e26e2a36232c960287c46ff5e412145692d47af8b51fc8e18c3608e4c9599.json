{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container py-5\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"card shadow-lg border-0 overflow-hidden\"\n};\nconst _hoisted_3 = {\n  class: \"row g-0\"\n};\nconst _hoisted_4 = {\n  class: \"col-lg-6 position-relative\"\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  class: \"position-absolute top-0 start-0 m-3\"\n};\nconst _hoisted_7 = {\n  class: \"badge bg-danger fs-6\"\n};\nconst _hoisted_8 = {\n  class: \"col-lg-6\"\n};\nconst _hoisted_9 = {\n  class: \"card-body p-4 p-xl-5\"\n};\nconst _hoisted_10 = {\n  class: \"mb-3\"\n};\nconst _hoisted_11 = {\n  class: \"d-flex align-items-center mb-4\"\n};\nconst _hoisted_12 = {\n  class: \"rating-stars me-3\"\n};\nconst _hoisted_13 = {\n  class: \"text-muted\"\n};\nconst _hoisted_14 = {\n  class: \"d-flex align-items-baseline gap-3 mb-4\"\n};\nconst _hoisted_15 = {\n  class: \"text-primary\"\n};\nconst _hoisted_16 = {\n  class: \"text-muted fs-5\"\n};\nconst _hoisted_17 = {\n  class: \"row g-3 mb-4\"\n};\nconst _hoisted_18 = {\n  class: \"bg-light p-3 rounded\"\n};\nconst _hoisted_19 = {\n  class: \"text-muted d-block small\"\n};\nconst _hoisted_20 = {\n  class: \"mb-4\"\n};\nconst _hoisted_21 = {\n  class: \"text-muted\",\n  style: {\n    \"white-space\": \"pre-wrap\"\n  }\n};\nconst _hoisted_22 = {\n  class: \"d-grid gap-3\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$data.product ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createCommentVNode(\" Product Content \"), _createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" Image Section \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"img\", {\n    src: $data.product.imageUrl,\n    class: \"img-fluid rounded-start object-fit-cover h-100\",\n    alt: \"Product image\",\n    style: {\n      \"min-height\": \"500px\"\n    }\n  }, null, 8 /* PROPS */, _hoisted_5), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"span\", _hoisted_7, \"-\" + _toDisplayString($options.discountPercentage) + \"%\", 1 /* TEXT */)])]), _createCommentVNode(\" Details Section \"), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createCommentVNode(\" Product Info \"), _createElementVNode(\"h1\", _hoisted_10, _toDisplayString($data.product.name), 1 /* TEXT */), _createCommentVNode(\" Rating \"), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList(5, star => {\n    return _createElementVNode(\"i\", {\n      key: star,\n      class: _normalizeClass([\"bi bi-star-fill me-1\", star <= $data.product.rating ? 'text-warning' : 'text-muted'])\n    }, null, 2 /* CLASS */);\n  }), 64 /* STABLE_FRAGMENT */))]), _createElementVNode(\"span\", _hoisted_13, \"(\" + _toDisplayString($data.product.reviews || 0) + \" reviews)\", 1 /* TEXT */)]), _createCommentVNode(\" Price \"), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"h2\", _hoisted_15, \"$\" + _toDisplayString($data.product.price), 1 /* TEXT */), _createElementVNode(\"del\", _hoisted_16, \"$\" + _toDisplayString($data.product.originalPrice), 1 /* TEXT */)]), _createCommentVNode(\" Specifications \"), _createElementVNode(\"div\", _hoisted_17, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.productSpecs, (spec, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"col-md-6\",\n      key: index\n    }, [_createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"span\", _hoisted_19, _toDisplayString(spec.label), 1 /* TEXT */), _createElementVNode(\"strong\", null, _toDisplayString(spec.value), 1 /* TEXT */)])]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createCommentVNode(\" Description \"), _createElementVNode(\"div\", _hoisted_20, [_cache[2] || (_cache[2] = _createElementVNode(\"h4\", {\n    class: \"mb-3\"\n  }, \"Description\", -1 /* HOISTED */)), _createElementVNode(\"p\", _hoisted_21, _toDisplayString($data.product.description), 1 /* TEXT */)]), _createCommentVNode(\" Add to Cart \"), _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"button\", {\n    class: \"btn btn-primary btn-lg py-3\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.addToCart && $options.addToCart(...args))\n  }, _cache[3] || (_cache[3] = [_createElementVNode(\"i\", {\n    class: \"bi bi-cart-plus me-2\"\n  }, null, -1 /* HOISTED */), _createTextVNode(\"Add to Cart \")])), _createElementVNode(\"button\", {\n    class: \"btn btn-outline-secondary\",\n    onClick: _cache[1] || (_cache[1] = $event => _ctx.$router.go(-1))\n  }, _cache[4] || (_cache[4] = [_createElementVNode(\"i\", {\n    class: \"bi bi-arrow-left me-2\"\n  }, null, -1 /* HOISTED */), _createTextVNode(\"Continue Shopping \")]))])])])])])) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Loading State \"), _cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n    class: \"text-center py-5\"\n  }, [_createElementVNode(\"div\", {\n    class: \"spinner-border text-primary\",\n    role: \"status\"\n  }, [_createElementVNode(\"span\", {\n    class: \"visually-hidden\"\n  }, \"Loading...\")]), _createElementVNode(\"p\", {\n    class: \"mt-3 text-muted\"\n  }, \"Loading product details...\")], -1 /* HOISTED */))], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))]);\n}","map":{"version":3,"names":["class","key","style","_createElementBlock","_hoisted_1","$data","product","_hoisted_2","_createCommentVNode","_createElementVNode","_hoisted_3","_hoisted_4","src","imageUrl","alt","_hoisted_5","_hoisted_6","_hoisted_7","_toDisplayString","$options","discountPercentage","_hoisted_8","_hoisted_9","_hoisted_10","name","_hoisted_11","_hoisted_12","_Fragment","_renderList","star","_normalizeClass","rating","_hoisted_13","reviews","_hoisted_14","_hoisted_15","price","_hoisted_16","originalPrice","_hoisted_17","productSpecs","spec","index","_hoisted_18","_hoisted_19","label","value","_hoisted_20","_hoisted_21","description","_hoisted_22","onClick","_cache","args","addToCart","_createTextVNode","$event","_ctx","$router","go","role"],"sources":["C:\\Users\\Hedib\\OneDrive\\Bureau\\final\\hello-word-vue\\src\\components\\user\\ProductDetail.vue"],"sourcesContent":["<template>\n  <div class=\"container py-5\">\n    <div v-if=\"product\" class=\"card shadow-lg border-0 overflow-hidden\">\n      <!-- Product Content -->\n      <div class=\"row g-0\">\n        <!-- Image Section -->\n        <div class=\"col-lg-6 position-relative\">\n          <img\n            :src=\"product.imageUrl\"\n            class=\"img-fluid rounded-start object-fit-cover h-100\"\n            alt=\"Product image\"\n            style=\"min-height: 500px\"\n          />\n          <div class=\"position-absolute top-0 start-0 m-3\">\n            <span class=\"badge bg-danger fs-6\">-{{ discountPercentage }}%</span>\n          </div>\n        </div>\n\n        <!-- Details Section -->\n        <div class=\"col-lg-6\">\n          <div class=\"card-body p-4 p-xl-5\">\n            <!-- Product Info -->\n            <h1 class=\"mb-3\">{{ product.name }}</h1>\n\n            <!-- Rating -->\n            <div class=\"d-flex align-items-center mb-4\">\n              <div class=\"rating-stars me-3\">\n                <i\n                  v-for=\"star in 5\"\n                  :key=\"star\"\n                  class=\"bi bi-star-fill me-1\"\n                  :class=\"star <= product.rating ? 'text-warning' : 'text-muted'\"\n                ></i>\n              </div>\n              <span class=\"text-muted\">({{ product.reviews || 0 }} reviews)</span>\n            </div>\n\n            <!-- Price -->\n            <div class=\"d-flex align-items-baseline gap-3 mb-4\">\n              <h2 class=\"text-primary\">${{ product.price }}</h2>\n              <del class=\"text-muted fs-5\">${{ product.originalPrice }}</del>\n            </div>\n\n            <!-- Specifications -->\n            <div class=\"row g-3 mb-4\">\n              <div class=\"col-md-6\" v-for=\"(spec, index) in productSpecs\" :key=\"index\">\n                <div class=\"bg-light p-3 rounded\">\n                  <span class=\"text-muted d-block small\">{{ spec.label }}</span>\n                  <strong>{{ spec.value }}</strong>\n                </div>\n              </div>\n            </div>\n\n            <!-- Description -->\n            <div class=\"mb-4\">\n              <h4 class=\"mb-3\">Description</h4>\n              <p class=\"text-muted\" style=\"white-space: pre-wrap\">{{ product.description }}</p>\n            </div>\n\n            <!-- Add to Cart -->\n            <div class=\"d-grid gap-3\">\n              <button class=\"btn btn-primary btn-lg py-3\" @click=\"addToCart\">\n                <i class=\"bi bi-cart-plus me-2\"></i>Add to Cart\n              </button>\n              <button class=\"btn btn-outline-secondary\" @click=\"$router.go(-1)\">\n                <i class=\"bi bi-arrow-left me-2\"></i>Continue Shopping\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Loading State -->\n    <div v-else class=\"text-center py-5\">\n      <div class=\"spinner-border text-primary\" role=\"status\">\n        <span class=\"visually-hidden\">Loading...</span>\n      </div>\n      <p class=\"mt-3 text-muted\">Loading product details...</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ProductService from '@/services/ProductService';\nimport CartService from '@/services/CartService';\n\nexport default {\n  name: 'ProductDetail',\n  props: ['id'],\n  data() {\n    return {\n      product: null,\n    };\n  },\n  computed: {\n    discountPercentage() {\n      if (!this.product || !this.product.originalPrice) return 0;\n      return Math.round(\n        ((this.product.originalPrice - this.product.price) / this.product.originalPrice) * 100\n      );\n    },\n    productSpecs() {\n      if (!this.product) return [];\n      return [\n        { label: 'Category', value: this.product.category },\n        { label: 'Stock', value: `${this.product.stock} available` },\n        { label: 'Brand', value: this.product.brand || 'Generic' },\n        { label: 'Weight', value: this.product.weight || 'N/A' },\n      ];\n    },\n  },\n  async created() {\n    try {\n      const response = await ProductService.getProductById(this.id);\n      this.product = response.data;\n    } catch (error) {\n      console.error('Error fetching product:', error);\n      this.$router.replace('/products');\n    }\n  },\n  methods: {\n    async addToCart() {\n      try {\n        await CartService.addToCart(this.product.id, 1);\n        window.alert('Product added to cart!');\n      } catch (error) {\n        console.error('Error adding to cart:', error.response?.data || error.message);\n        window.alert(error.response?.data?.message || 'Failed to add to cart');\n        if (error.response?.status === 401) {\n          this.$router.push('/login');\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.object-fit-cover {\n        console.error(\n          'Error adding to cart:',\n          error.response?.data || error.message\n        );\n        window.alert(error.response?.data?.message || 'Failed to add to cart');\n        if (error.response?.status === 401) {\n          this.$router.push('/login');\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.object-fit-cover {\n  object-fit: cover;\n}\n\n.rating-stars {\n  font-size: 1.25rem;\n}\n\n.card {\n  border-radius: 1rem;\n  overflow: hidden;\n}\n\n.badge {\n  font-size: 1rem;\n  padding: 0.5em 0.75em;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.bg-light {\n  background-color: #f8f9fa !important;\n}\n\n.spinner-border {\n  width: 3rem;\n  height: 3rem;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}