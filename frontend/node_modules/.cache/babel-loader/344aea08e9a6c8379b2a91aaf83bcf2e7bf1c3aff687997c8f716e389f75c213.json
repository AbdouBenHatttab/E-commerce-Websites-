{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport UserService from \"@/services/UserService\";\nexport default {\n  data() {\n    return {\n      users: []\n    };\n  },\n  async created() {\n    await this.fetchUsers();\n  },\n  methods: {\n    async fetchUsers() {\n      try {\n        const response = await UserService.getAllUsers();\n        this.users = response.data;\n      } catch (error) {\n        console.error(\"Error fetching users:\", error);\n      }\n    },\n    async updateUser(user) {\n      try {\n        console.log(\"Updating user:\", user);\n        await UserService.updateUser(user.id, {\n          name: user.name,\n          role: user.role,\n          status: user.status,\n          phoneNumber: user.phoneNumber,\n          address: user.address,\n          imageUrl: user.imageUrl\n        });\n        alert(\"User updated successfully!\");\n      } catch (error) {\n        console.error(\"Error updating user:\", error);\n        alert(\"Failed to update user.\");\n      }\n    },\n    async deleteUser(id) {\n      try {\n        await UserService.deleteUser(id);\n        this.users = this.users.filter(user => user.id !== id);\n        alert(\"User deleted successfully!\");\n      } catch (error) {\n        console.error(\"Error deleting user:\", error);\n        alert(\"Failed to delete user.\");\n      }\n    }\n  }\n};","map":{"version":3,"names":["UserService","data","users","created","fetchUsers","methods","response","getAllUsers","error","console","updateUser","user","log","id","name","role","status","phoneNumber","address","imageUrl","alert","deleteUser","filter"],"sources":["C:\\Users\\Hedib\\OneDrive\\Bureau\\hello-word-vue\\src\\components\\admin\\AdminUsers.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-5\">\n    <h2>Manage Users</h2>\n    <table class=\"table mt-3\">\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Name</th>\n          <th>Email</th>\n          <th>Role</th>\n          <th>Status</th>\n          <th>Phone</th>\n          <th>Address</th>\n          <th>Image</th>\n          <th>Password</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"user in users\" :key=\"user.id\">\n          <td>{{ user.id }}</td>\n          <td><input v-model=\"user.name\" class=\"form-control\" /></td>\n          <td>{{ user.email }}</td> <!-- Email is not editable -->\n          <td>\n            <select v-model=\"user.role\" class=\"form-select\">\n              <option value=\"ROLE_USER\">User</option>\n              <option value=\"ROLE_ADMIN\">Admin</option>\n            </select>\n          </td>\n          <td>\n            <select v-model=\"user.status\" class=\"form-select\">\n              <option value=\"ACTIVE\">Active</option>\n              <option value=\"INACTIVE\">Inactive</option>\n            </select>\n          </td>\n          <td><input v-model=\"user.phoneNumber\" class=\"form-control\" /></td>\n          <td><input v-model=\"user.address\" class=\"form-control\" /></td>\n          <td>\n            <img\n              v-if=\"user.imageUrl\"\n              :src=\"'http://localhost:8080/uploads/' + user.imageUrl\"\n              alt=\"User Image\"\n              class=\"img-thumbnail\"\n              width=\"50\"\n            />\n            <span v-else>No Image</span>\n          </td>\n          <td>***</td> <!-- Password stays masked -->\n          <td>\n            <button class=\"btn btn-success btn-sm me-2\" @click=\"updateUser(user)\">\n              Save\n            </button>\n            <button class=\"btn btn-danger btn-sm\" @click=\"deleteUser(user.id)\">\n              Delete\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport UserService from \"@/services/UserService\";\n\nexport default {\n  data() {\n    return {\n      users: [],\n    };\n  },\n  async created() {\n    await this.fetchUsers();\n  },\n  methods: {\n    async fetchUsers() {\n      try {\n        const response = await UserService.getAllUsers();\n        this.users = response.data;\n      } catch (error) {\n        console.error(\"Error fetching users:\", error);\n      }\n    },\n    async updateUser(user) {\n      try {\n        console.log(\"Updating user:\", user);\n        await UserService.updateUser(user.id, {\n          name: user.name,\n          role: user.role,\n          status: user.status,\n          phoneNumber: user.phoneNumber,\n          address: user.address,\n          imageUrl: user.imageUrl,\n        });\n        alert(\"User updated successfully!\");\n      } catch (error) {\n        console.error(\"Error updating user:\", error);\n        alert(\"Failed to update user.\");\n      }\n    },\n    async deleteUser(id) {\n      try {\n        await UserService.deleteUser(id);\n        this.users = this.users.filter((user) => user.id !== id);\n        alert(\"User deleted successfully!\");\n      } catch (error) {\n        console.error(\"Error deleting user:\", error);\n        alert(\"Failed to delete user.\");\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.img-thumbnail {\n  border-radius: 50%;\n}\n</style>\n"],"mappings":";;AA+DA,OAAOA,WAAU,MAAO,wBAAwB;AAEhD,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,MAAM,IAAI,CAACC,UAAU,CAAC,CAAC;EACzB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMN,WAAW,CAACO,WAAW,CAAC,CAAC;QAChD,IAAI,CAACL,KAAI,GAAII,QAAQ,CAACL,IAAI;MAC5B,EAAE,OAAOO,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC/C;IACF,CAAC;IACD,MAAME,UAAUA,CAACC,IAAI,EAAE;MACrB,IAAI;QACFF,OAAO,CAACG,GAAG,CAAC,gBAAgB,EAAED,IAAI,CAAC;QACnC,MAAMX,WAAW,CAACU,UAAU,CAACC,IAAI,CAACE,EAAE,EAAE;UACpCC,IAAI,EAAEH,IAAI,CAACG,IAAI;UACfC,IAAI,EAAEJ,IAAI,CAACI,IAAI;UACfC,MAAM,EAAEL,IAAI,CAACK,MAAM;UACnBC,WAAW,EAAEN,IAAI,CAACM,WAAW;UAC7BC,OAAO,EAAEP,IAAI,CAACO,OAAO;UACrBC,QAAQ,EAAER,IAAI,CAACQ;QACjB,CAAC,CAAC;QACFC,KAAK,CAAC,4BAA4B,CAAC;MACrC,EAAE,OAAOZ,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;QAC5CY,KAAK,CAAC,wBAAwB,CAAC;MACjC;IACF,CAAC;IACD,MAAMC,UAAUA,CAACR,EAAE,EAAE;MACnB,IAAI;QACF,MAAMb,WAAW,CAACqB,UAAU,CAACR,EAAE,CAAC;QAChC,IAAI,CAACX,KAAI,GAAI,IAAI,CAACA,KAAK,CAACoB,MAAM,CAAEX,IAAI,IAAKA,IAAI,CAACE,EAAC,KAAMA,EAAE,CAAC;QACxDO,KAAK,CAAC,4BAA4B,CAAC;MACrC,EAAE,OAAOZ,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;QAC5CY,KAAK,CAAC,wBAAwB,CAAC;MACjC;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}