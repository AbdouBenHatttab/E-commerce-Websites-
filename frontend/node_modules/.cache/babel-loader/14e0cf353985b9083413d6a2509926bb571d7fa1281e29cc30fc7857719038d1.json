{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"navbar navbar-expand-lg navbar-dark bg-primary\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = {\n  class: \"collapse navbar-collapse\",\n  id: \"navbarNav\"\n};\nconst _hoisted_4 = {\n  class: \"navbar-nav me-auto\"\n};\nconst _hoisted_5 = {\n  class: \"nav-item\"\n};\nconst _hoisted_6 = {\n  class: \"nav-item\"\n};\nconst _hoisted_7 = {\n  class: \"nav-item\"\n};\nconst _hoisted_8 = {\n  class: \"nav-item\"\n};\nconst _hoisted_9 = {\n  class: \"nav-item\"\n};\nconst _hoisted_10 = {\n  class: \"nav-item\"\n};\nconst _hoisted_11 = {\n  class: \"nav-item\"\n};\nconst _hoisted_12 = {\n  class: \"nav-item\"\n};\nconst _hoisted_13 = {\n  class: \"navbar-nav\"\n};\nconst _hoisted_14 = {\n  class: \"nav-item\"\n};\nconst _hoisted_15 = {\n  class: \"nav-item\"\n};\nconst _hoisted_16 = {\n  class: \"nav-item\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"nav\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_router_link, {\n    class: \"navbar-brand\",\n    to: \"/\"\n  }, {\n    default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\"My Ecommerce\")])),\n    _: 1 /* STABLE */\n  }), _cache[12] || (_cache[12] = _createElementVNode(\"button\", {\n    class: \"navbar-toggler\",\n    type: \"button\",\n    \"data-bs-toggle\": \"collapse\",\n    \"data-bs-target\": \"#navbarNav\",\n    \"aria-controls\": \"navbarNav\",\n    \"aria-expanded\": \"false\",\n    \"aria-label\": \"Toggle navigation\"\n  }, [_createElementVNode(\"span\", {\n    class: \"navbar-toggler-icon\"\n  })], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"ul\", _hoisted_4, [_createCommentVNode(\" Public Link (always visible) \"), _createElementVNode(\"li\", _hoisted_5, [_createVNode(_component_router_link, {\n    class: \"nav-link\",\n    to: \"/\"\n  }, {\n    default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\"Home\")])),\n    _: 1 /* STABLE */\n  })]), _createCommentVNode(\" Role-based Links \"), $data.user ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 0\n  }, [_createCommentVNode(\" Common for all logged in users \"), _createElementVNode(\"li\", _hoisted_6, [_createVNode(_component_router_link, {\n    class: \"nav-link\",\n    to: $options.profileLink\n  }, {\n    default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\"Profile\")])),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"])]), _createCommentVNode(\" Admin-only links \"), $options.isAdmin ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 0\n  }, [_createElementVNode(\"li\", _hoisted_7, [_createVNode(_component_router_link, {\n    class: \"nav-link\",\n    to: \"/admin/dashboard\"\n  }, {\n    default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\"Admin Dashboard\")])),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", _hoisted_8, [_createVNode(_component_router_link, {\n    class: \"nav-link\",\n    to: \"/admin/users\"\n  }, {\n    default: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\"Manage Users\")])),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", _hoisted_9, [_createVNode(_component_router_link, {\n    class: \"nav-link\",\n    to: \"/admin/products\"\n  }, {\n    default: _withCtx(() => _cache[6] || (_cache[6] = [_createTextVNode(\"Manage Products\")])),\n    _: 1 /* STABLE */\n  })])], 64 /* STABLE_FRAGMENT */)) : $options.isUser ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" User-only links \"), _createElementVNode(\"li\", _hoisted_10, [_createVNode(_component_router_link, {\n    class: \"nav-link\",\n    to: \"/user/dashboard\"\n  }, {\n    default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\"Dashboard\")])),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", _hoisted_11, [_createVNode(_component_router_link, {\n    class: \"nav-link\",\n    to: \"/user/products\"\n  }, {\n    default: _withCtx(() => _cache[8] || (_cache[8] = [_createTextVNode(\"Products\")])),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", _hoisted_12, [_createVNode(_component_router_link, {\n    class: \"nav-link\",\n    to: \"/user/cart\"\n  }, {\n    default: _withCtx(() => _cache[9] || (_cache[9] = [_createTextVNode(\"My Cart\")])),\n    _: 1 /* STABLE */\n  })])], 64 /* STABLE_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)], 64 /* STABLE_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"ul\", _hoisted_13, [_createCommentVNode(\" If no user logged in, show Login/Register \"), !$data.user ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 0\n  }, [_createElementVNode(\"li\", _hoisted_14, [_createVNode(_component_router_link, {\n    class: \"nav-link\",\n    to: \"/login\"\n  }, {\n    default: _withCtx(() => _cache[10] || (_cache[10] = [_createTextVNode(\"Login\")])),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", _hoisted_15, [_createVNode(_component_router_link, {\n    class: \"nav-link\",\n    to: \"/register\"\n  }, {\n    default: _withCtx(() => _cache[11] || (_cache[11] = [_createTextVNode(\"Register\")])),\n    _: 1 /* STABLE */\n  })])], 64 /* STABLE_FRAGMENT */)) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" If user is logged in, show Logout \"), _createElementVNode(\"li\", _hoisted_16, [_createElementVNode(\"a\", {\n    class: \"nav-link\",\n    href: \"#\",\n    onClick: _cache[0] || (_cache[0] = _withModifiers((...args) => $options.logout && $options.logout(...args), [\"prevent\"]))\n  }, \"Logout\")])], 64 /* STABLE_FRAGMENT */))])])])]);\n}","map":{"version":3,"names":["class","id","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_router_link","to","default","_withCtx","_cache","_createTextVNode","_","type","_hoisted_3","_hoisted_4","_createCommentVNode","_hoisted_5","$data","user","_Fragment","key","_hoisted_6","$options","profileLink","isAdmin","_hoisted_7","_hoisted_8","_hoisted_9","isUser","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","href","onClick","_withModifiers","args","logout"],"sources":["C:\\Users\\Hedib\\OneDrive\\Bureau\\hello-word-vue\\src\\components\\NavBar.vue"],"sourcesContent":["<template>\r\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-primary\">\r\n    <div class=\"container\">\r\n      <router-link class=\"navbar-brand\" to=\"/\">My Ecommerce</router-link>\r\n      <button\r\n        class=\"navbar-toggler\"\r\n        type=\"button\"\r\n        data-bs-toggle=\"collapse\"\r\n        data-bs-target=\"#navbarNav\"\r\n        aria-controls=\"navbarNav\"\r\n        aria-expanded=\"false\"\r\n        aria-label=\"Toggle navigation\"\r\n      >\r\n        <span class=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n      <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n        <ul class=\"navbar-nav me-auto\">\r\n          <!-- Public Link (always visible) -->\r\n          <li class=\"nav-item\">\r\n            <router-link class=\"nav-link\" to=\"/\">Home</router-link>\r\n          </li>\r\n          <!-- Role-based Links -->\r\n          <template v-if=\"user\">\r\n            <!-- Common for all logged in users -->\r\n            <li class=\"nav-item\">\r\n              <router-link class=\"nav-link\" :to=\"profileLink\"\r\n                >Profile</router-link\r\n              >\r\n            </li>\r\n            <!-- Admin-only links -->\r\n            <template v-if=\"isAdmin\">\r\n              <li class=\"nav-item\">\r\n                <router-link class=\"nav-link\" to=\"/admin/dashboard\"\r\n                  >Admin Dashboard</router-link\r\n                >\r\n              </li>\r\n              <li class=\"nav-item\">\r\n                <router-link class=\"nav-link\" to=\"/admin/users\"\r\n                  >Manage Users</router-link\r\n                >\r\n              </li>\r\n              <li class=\"nav-item\">\r\n                <router-link class=\"nav-link\" to=\"/admin/products\"\r\n                  >Manage Products</router-link\r\n                >\r\n              </li>\r\n            </template>\r\n            <!-- User-only links -->\r\n            <template v-else-if=\"isUser\">\r\n              <li class=\"nav-item\">\r\n                <router-link class=\"nav-link\" to=\"/user/dashboard\"\r\n                  >Dashboard</router-link\r\n                >\r\n              </li>\r\n              <li class=\"nav-item\">\r\n                <router-link class=\"nav-link\" to=\"/user/products\"\r\n                  >Products</router-link\r\n                >\r\n              </li>\r\n              <li class=\"nav-item\">\r\n                <router-link class=\"nav-link\" to=\"/user/cart\"\r\n                  >My Cart</router-link\r\n                >\r\n              </li>\r\n            </template>\r\n          </template>\r\n        </ul>\r\n        <ul class=\"navbar-nav\">\r\n          <!-- If no user logged in, show Login/Register -->\r\n          <template v-if=\"!user\">\r\n            <li class=\"nav-item\">\r\n              <router-link class=\"nav-link\" to=\"/login\">Login</router-link>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <router-link class=\"nav-link\" to=\"/register\"\r\n                >Register</router-link\r\n              >\r\n            </li>\r\n          </template>\r\n          <!-- If user is logged in, show Logout -->\r\n          <template v-else>\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\" href=\"#\" @click.prevent=\"logout\">Logout</a>\r\n            </li>\r\n          </template>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nimport AuthService from '@/services/AuthService';\r\n\r\nexport default {\r\n  name: 'NavBar',\r\n  data() {\r\n    return {\r\n      user: AuthService.getUser(),\r\n    };\r\n  },\r\n  computed: {\r\n    isAdmin() {\r\n      return this.user && this.user.role === 'ROLE_ADMIN';\r\n    },\r\n    isUser() {\r\n      return this.user && this.user.role === 'ROLE_USER';\r\n    },\r\n    profileLink() {\r\n      // Choose profile route based on role\r\n      if (this.isAdmin) return '/admin/profile';\r\n      if (this.isUser) return '/user/profile';\r\n      return '/login';\r\n    },\r\n  },\r\n  methods: {\r\n    logout() {\r\n      AuthService.logout();\r\n      this.user = null;\r\n      this.$router.push('/login');\r\n    },\r\n  },\r\n  created() {\r\n    // Listen for storage changes (if login occurs in another tab, for example)\r\n    window.addEventListener('storage', () => {\r\n      this.user = AuthService.getUser();\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.navbar-brand {\r\n  font-weight: 700;\r\n  font-size: 1.5rem;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}