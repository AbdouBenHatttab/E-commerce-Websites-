{"ast":null,"code":"import ProductService from '@/services/ProductService';\nimport CartService from '@/services/CartService';\nexport default {\n  name: 'ProductDetail',\n  props: ['id'],\n  data() {\n    return {\n      product: null\n    };\n  },\n  computed: {\n    discountPercentage() {\n      return Math.round((this.product.originalPrice - this.product.price) / this.product.originalPrice * 100);\n    },\n    productSpecs() {\n      return [{\n        label: 'Category',\n        value: this.product.category\n      }, {\n        label: 'Stock',\n        value: `${this.product.stock} available`\n      }, {\n        label: 'Brand',\n        value: this.product.brand || 'Generic'\n      }, {\n        label: 'Weight',\n        value: this.product.weight || 'N/A'\n      }];\n    }\n  },\n  async created() {\n    try {\n      const response = await ProductService.getProductById(this.id);\n      this.product = response.data;\n    } catch (error) {\n      console.error('Error fetching product:', error);\n      this.$router.replace('/products');\n    }\n  },\n  methods: {\n    async addToCart() {\n      try {\n        await CartService.addToCart(this.product.id, 1);\n        this.$toast.success('Product added to cart!', {\n          position: 'top-right',\n          duration: 3000\n        });\n      } catch (error) {\n        console.error('Error adding to cart:', error);\n        this.$toast.error('Failed to add to cart', {\n          position: 'top-right',\n          duration: 3000\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["ProductService","CartService","name","props","data","product","computed","discountPercentage","Math","round","originalPrice","price","productSpecs","label","value","category","stock","brand","weight","created","response","getProductById","id","error","console","$router","replace","methods","addToCart","$toast","success","position","duration"],"sources":["C:\\Users\\Hedib\\OneDrive\\Bureau\\hello-word-vue\\src\\components\\user\\ProductDetail.vue"],"sourcesContent":["<template>\r\n  <div class=\"container py-5\">\r\n    <div v-if=\"product\" class=\"card shadow-lg border-0 overflow-hidden\">\r\n      <!-- Back Button -->\r\n      <div class=\"card-header bg-light border-0\">\r\n        <button class=\"btn btn-outline-secondary\" @click=\"$router.go(-1)\">\r\n          <i class=\"bi bi-arrow-left me-2\"></i>Back to Products\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Product Content -->\r\n      <div class=\"row g-0\">\r\n        <!-- Image Section -->\r\n        <div class=\"col-lg-6 position-relative\">\r\n          <img\r\n            :src=\"product.imageUrl\"\r\n            class=\"img-fluid rounded-start object-fit-cover h-100\"\r\n            alt=\"Product image\"\r\n            style=\"min-height: 500px\"\r\n          />\r\n          <div class=\"position-absolute top-0 start-0 m-3\">\r\n            <span class=\"badge bg-danger fs-6\">-{{ discountPercentage }}%</span>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Details Section -->\r\n        <div class=\"col-lg-6\">\r\n          <div class=\"card-body p-4 p-xl-5\">\r\n            <!-- Product Info -->\r\n            <h1 class=\"mb-3\">{{ product.name }}</h1>\r\n\r\n            <!-- Rating -->\r\n            <div class=\"d-flex align-items-center mb-4\">\r\n              <div class=\"rating-stars me-3\">\r\n                <i\r\n                  v-for=\"star in 5\"\r\n                  :key=\"star\"\r\n                  class=\"bi bi-star-fill me-1\"\r\n                  :class=\"\r\n                    star <= product.rating ? 'text-warning' : 'text-muted'\r\n                  \"\r\n                ></i>\r\n              </div>\r\n              <span class=\"text-muted\"\r\n                >({{ product.reviews || 0 }} reviews)</span\r\n              >\r\n            </div>\r\n\r\n            <!-- Price -->\r\n            <div class=\"d-flex align-items-baseline gap-3 mb-4\">\r\n              <h2 class=\"text-primary\">${{ product.price }}</h2>\r\n              <del class=\"text-muted fs-5\">${{ product.originalPrice }}</del>\r\n            </div>\r\n\r\n            <!-- Specifications -->\r\n            <div class=\"row g-3 mb-4\">\r\n              <div\r\n                class=\"col-md-6\"\r\n                v-for=\"(spec, index) in productSpecs\"\r\n                :key=\"index\"\r\n              >\r\n                <div class=\"bg-light p-3 rounded\">\r\n                  <span class=\"text-muted d-block small\">{{ spec.label }}</span>\r\n                  <strong>{{ spec.value }}</strong>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Description -->\r\n            <div class=\"mb-4\">\r\n              <h4 class=\"mb-3\">Description</h4>\r\n              <p class=\"text-muted\" style=\"white-space: pre-wrap\">\r\n                {{ product.description }}\r\n              </p>\r\n            </div>\r\n\r\n            <!-- Add to Cart -->\r\n            <div class=\"d-grid gap-3\">\r\n              <button class=\"btn btn-primary btn-lg py-3\" @click=\"addToCart\">\r\n                <i class=\"bi bi-cart-plus me-2\"></i>Add to Cart\r\n              </button>\r\n              <button class=\"btn btn-outline-secondary\" @click=\"$router.go(-1)\">\r\n                <i class=\"bi bi-arrow-left me-2\"></i>Continue Shopping\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Loading State -->\r\n    <div v-else class=\"text-center py-5\">\r\n      <div class=\"spinner-border text-primary\" role=\"status\">\r\n        <span class=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n      <p class=\"mt-3 text-muted\">Loading product details...</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ProductService from '@/services/ProductService';\r\nimport CartService from '@/services/CartService';\r\n\r\nexport default {\r\n  name: 'ProductDetail',\r\n  props: ['id'],\r\n  data() {\r\n    return {\r\n      product: null,\r\n    };\r\n  },\r\n  computed: {\r\n    discountPercentage() {\r\n      return Math.round(\r\n        ((this.product.originalPrice - this.product.price) /\r\n          this.product.originalPrice) *\r\n          100\r\n      );\r\n    },\r\n    productSpecs() {\r\n      return [\r\n        { label: 'Category', value: this.product.category },\r\n        { label: 'Stock', value: `${this.product.stock} available` },\r\n        { label: 'Brand', value: this.product.brand || 'Generic' },\r\n        { label: 'Weight', value: this.product.weight || 'N/A' },\r\n      ];\r\n    },\r\n  },\r\n  async created() {\r\n    try {\r\n      const response = await ProductService.getProductById(this.id);\r\n      this.product = response.data;\r\n    } catch (error) {\r\n      console.error('Error fetching product:', error);\r\n      this.$router.replace('/products');\r\n    }\r\n  },\r\n  methods: {\r\n    async addToCart() {\r\n      try {\r\n        await CartService.addToCart(this.product.id, 1);\r\n        this.$toast.success('Product added to cart!', {\r\n          position: 'top-right',\r\n          duration: 3000,\r\n        });\r\n      } catch (error) {\r\n        console.error('Error adding to cart:', error);\r\n        this.$toast.error('Failed to add to cart', {\r\n          position: 'top-right',\r\n          duration: 3000,\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.object-fit-cover {\r\n  object-fit: cover;\r\n}\r\n\r\n.rating-stars {\r\n  font-size: 1.25rem;\r\n}\r\n\r\n.card {\r\n  border-radius: 1rem;\r\n  overflow: hidden;\r\n}\r\n\r\n.badge {\r\n  font-size: 1rem;\r\n  padding: 0.5em 0.75em;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.bg-light {\r\n  background-color: #f8f9fa !important;\r\n}\r\n\r\n.spinner-border {\r\n  width: 3rem;\r\n  height: 3rem;\r\n}\r\n</style>\r\n"],"mappings":"AAqGA,OAAOA,cAAa,MAAO,2BAA2B;AACtD,OAAOC,WAAU,MAAO,wBAAwB;AAEhD,eAAe;EACbC,IAAI,EAAE,eAAe;EACrBC,KAAK,EAAE,CAAC,IAAI,CAAC;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,kBAAkBA,CAAA,EAAG;MACnB,OAAOC,IAAI,CAACC,KAAK,CACd,CAAC,IAAI,CAACJ,OAAO,CAACK,aAAY,GAAI,IAAI,CAACL,OAAO,CAACM,KAAK,IAC/C,IAAI,CAACN,OAAO,CAACK,aAAa,GAC1B,GACJ,CAAC;IACH,CAAC;IACDE,YAAYA,CAAA,EAAG;MACb,OAAO,CACL;QAAEC,KAAK,EAAE,UAAU;QAAEC,KAAK,EAAE,IAAI,CAACT,OAAO,CAACU;MAAS,CAAC,EACnD;QAAEF,KAAK,EAAE,OAAO;QAAEC,KAAK,EAAE,GAAG,IAAI,CAACT,OAAO,CAACW,KAAK;MAAa,CAAC,EAC5D;QAAEH,KAAK,EAAE,OAAO;QAAEC,KAAK,EAAE,IAAI,CAACT,OAAO,CAACY,KAAI,IAAK;MAAU,CAAC,EAC1D;QAAEJ,KAAK,EAAE,QAAQ;QAAEC,KAAK,EAAE,IAAI,CAACT,OAAO,CAACa,MAAK,IAAK;MAAM,CAAC,CACzD;IACH;EACF,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,IAAI;MACF,MAAMC,QAAO,GAAI,MAAMpB,cAAc,CAACqB,cAAc,CAAC,IAAI,CAACC,EAAE,CAAC;MAC7D,IAAI,CAACjB,OAAM,GAAIe,QAAQ,CAAChB,IAAI;IAC9B,EAAE,OAAOmB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/C,IAAI,CAACE,OAAO,CAACC,OAAO,CAAC,WAAW,CAAC;IACnC;EACF,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,SAASA,CAAA,EAAG;MAChB,IAAI;QACF,MAAM3B,WAAW,CAAC2B,SAAS,CAAC,IAAI,CAACvB,OAAO,CAACiB,EAAE,EAAE,CAAC,CAAC;QAC/C,IAAI,CAACO,MAAM,CAACC,OAAO,CAAC,wBAAwB,EAAE;UAC5CC,QAAQ,EAAE,WAAW;UACrBC,QAAQ,EAAE;QACZ,CAAC,CAAC;MACJ,EAAE,OAAOT,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;QAC7C,IAAI,CAACM,MAAM,CAACN,KAAK,CAAC,uBAAuB,EAAE;UACzCQ,QAAQ,EAAE,WAAW;UACrBC,QAAQ,EAAE;QACZ,CAAC,CAAC;MACJ;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}