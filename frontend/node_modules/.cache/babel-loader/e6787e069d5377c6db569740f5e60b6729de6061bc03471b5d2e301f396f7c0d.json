{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport ProductService from '@/services/ProductService';\nexport default {\n  name: 'AdminProducts',\n  data() {\n    return {\n      products: [],\n      isEditing: false,\n      modalVisible: false,\n      newProduct: this.resetProduct()\n    };\n  },\n  async created() {\n    await this.fetchProducts();\n  },\n  methods: {\n    async fetchProducts() {\n      try {\n        const response = await ProductService.getAllProducts();\n        this.products = response.data;\n      } catch (error) {\n        this.showError('Failed to fetch products', error);\n      }\n    },\n    openModal(editMode, product = null) {\n      this.isEditing = editMode;\n      this.newProduct = product ? {\n        ...product\n      } : this.resetProduct();\n      this.modalVisible = true;\n    },\n    async submitForm() {\n      try {\n        if (this.isEditing) {\n          await ProductService.updateProduct(this.newProduct.id, this.newProduct);\n        } else {\n          const response = await ProductService.createProduct(this.newProduct);\n          this.products.push(response.data);\n        }\n        this.closeModal();\n        await this.fetchProducts();\n      } catch (error) {\n        this.showError(this.isEditing ? 'Update failed' : 'Creation failed', error);\n      }\n    },\n    async confirmDelete(id) {\n      if (confirm('Are you sure you want to delete this product?')) {\n        try {\n          await ProductService.deleteProduct(id);\n          this.products = this.products.filter(p => p.id !== id);\n        } catch (error) {\n          this.showError('Deletion failed', error);\n        }\n      }\n    },\n    closeModal() {\n      this.modalVisible = false;\n      this.resetProduct();\n    },\n    resetProduct() {\n      return {\n        id: null,\n        name: '',\n        description: '',\n        price: 0,\n        stock: 0,\n        category: '',\n        imageUrl: ''\n      };\n    },\n    truncateDescription(text, length = 100) {\n      return text.length > length ? text.substring(0, length) + '...' : text;\n    },\n    showError(message, error) {\n      console.error(message, error);\n      alert(`${message}: ${error.response?.data?.message || error.message}`);\n    },\n    goBack() {\n      this.$router.push({\n        name: 'AdminDashboard'\n      });\n    }\n  }\n};","map":{"version":3,"names":["ProductService","name","data","products","isEditing","modalVisible","newProduct","resetProduct","created","fetchProducts","methods","response","getAllProducts","error","showError","openModal","editMode","product","submitForm","updateProduct","id","createProduct","push","closeModal","confirmDelete","confirm","deleteProduct","filter","p","description","price","stock","category","imageUrl","truncateDescription","text","length","substring","message","console","alert","goBack","$router"],"sources":["C:\\Users\\Hedib\\OneDrive\\Bureau\\final\\hello-word-vue\\src\\components\\admin\\AdminProducts.vue"],"sourcesContent":["<template>\n  <div class=\"admin-products-container\">\n    <!-- Header Section -->\n    <div class=\"admin-header\">\n      <h2 class=\"admin-title\">Product Management</h2>\n      <button class=\"admin-btn primary\" @click=\"openModal(false)\">\n        <i class=\"fas fa-plus\"></i> Add Product\n      </button>\n    </div>\n\n    <!-- Products Grid -->\n    <div v-if=\"products.length\" class=\"products-grid\">\n      <div v-for=\"product in products\" :key=\"product.id\" class=\"product-card\">\n        <div class=\"product-image\">\n          <img\n            :src=\"product.imageUrl || 'https://via.placeholder.com/300x200.png/2a2a2a/ffffff?text=Product+Image'\"\n            alt=\"Product Image\"\n            class=\"product-img\"\n          />\n          <div class=\"product-actions\">\n            <button class=\"icon-btn edit\" @click=\"openModal(true, product)\">\n              <i class=\"fas fa-edit\"></i>\n            </button>\n            <button class=\"icon-btn delete\" @click=\"confirmDelete(product.id)\">\n              <i class=\"fas fa-trash\"></i>\n            </button>\n          </div>\n        </div>\n        <div class=\"product-info\">\n          <h3 class=\"product-title\">{{ product.name }}</h3>\n          <p class=\"product-description\">{{ truncateDescription(product.description) }}</p>\n          <div class=\"product-meta\">\n            <div class=\"meta-item\">\n              <i class=\"fas fa-tag\"></i>\n              <span>${{ product.price.toFixed(2) }}</span>\n            </div>\n            <div class=\"meta-item\">\n              <i class=\"fas fa-cubes\"></i>\n              <span>{{ product.stock }} in stock</span>\n            </div>\n            <div class=\"meta-item\">\n              <i class=\"fas fa-folder\"></i>\n              <span>{{ product.category }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Empty State -->\n    <div v-else class=\"empty-state\">\n      <i class=\"fas fa-box-open empty-icon\"></i>\n      <h3>No Products Found</h3>\n      <p>Start by adding your first product</p>\n    </div>\n\n    <!-- Product Modal -->\n    <div class=\"modal-overlay\" :class=\"{ active: modalVisible }\">\n      <div class=\"modal-container\">\n        <div class=\"modal-header\">\n          <h3>{{ isEditing ? 'Edit Product' : 'New Product' }}</h3>\n          <button class=\"modal-close\" @click=\"closeModal\">\n            <i class=\"fas fa-times\"></i>\n          </button>\n        </div>\n\n        <form class=\"modal-form\" @submit.prevent=\"submitForm\">\n          <div class=\"form-group\">\n            <label>Product Name</label>\n            <input type=\"text\" v-model=\"newProduct.name\" required />\n          </div>\n\n          <div class=\"form-group\">\n            <label>Description</label>\n            <textarea v-model=\"newProduct.description\" rows=\"3\" required></textarea>\n          </div>\n\n          <div class=\"form-row\">\n            <div class=\"form-group\">\n              <label>Price ($)</label>\n              <input type=\"number\" step=\"0.01\" v-model.number=\"newProduct.price\" required />\n            </div>\n            <div class=\"form-group\">\n              <label>Stock Quantity</label>\n              <input type=\"number\" v-model.number=\"newProduct.stock\" required />\n            </div>\n          </div>\n\n          <div class=\"form-row\">\n            <div class=\"form-group\">\n              <label>Category</label>\n              <input type=\"text\" v-model=\"newProduct.category\" required />\n            </div>\n            <div class=\"form-group\">\n              <label>Image URL</label>\n              <input type=\"url\" v-model=\"newProduct.imageUrl\" />\n            </div>\n          </div>\n\n          <div class=\"form-actions\">\n            <button type=\"button\" class=\"admin-btn secondary\" @click=\"closeModal\">Cancel</button>\n            <button type=\"submit\" class=\"admin-btn primary\">{{ isEditing ? 'Update Product' : 'Create Product' }}</button>\n          </div>\n        </form>\n      </div>\n    </div>\n    <button @click=\"goBack\" class=\"btn btn-outline-primary btn-lg\">\n      <i class=\"bi bi-arrow-left-circle me-2\"></i>Back to Dashboard\n    </button>\n  </div>\n</template>\n\n<script>\nimport ProductService from '@/services/ProductService';\n\nexport default {\n  name: 'AdminProducts',\n  data() {\n    return {\n      products: [],\n      isEditing: false,\n      modalVisible: false,\n      newProduct: this.resetProduct(),\n    };\n  },\n  async created() {\n    await this.fetchProducts();\n  },\n  methods: {\n    async fetchProducts() {\n      try {\n        const response = await ProductService.getAllProducts();\n        this.products = response.data;\n      } catch (error) {\n        this.showError('Failed to fetch products', error);\n      }\n    },\n    openModal(editMode, product = null) {\n      this.isEditing = editMode;\n      this.newProduct = product ? { ...product } : this.resetProduct();\n      this.modalVisible = true;\n    },\n    async submitForm() {\n      try {\n        if (this.isEditing) {\n          await ProductService.updateProduct(this.newProduct.id, this.newProduct);\n        } else {\n          const response = await ProductService.createProduct(this.newProduct);\n          this.products.push(response.data);\n        }\n        this.closeModal();\n        await this.fetchProducts();\n      } catch (error) {\n        this.showError(this.isEditing ? 'Update failed' : 'Creation failed', error);\n      }\n    },\n    async confirmDelete(id) {\n      if (confirm('Are you sure you want to delete this product?')) {\n        try {\n          await ProductService.deleteProduct(id);\n          this.products = this.products.filter((p) => p.id !== id);\n        } catch (error) {\n          this.showError('Deletion failed', error);\n        }\n      }\n    },\n    closeModal() {\n      this.modalVisible = false;\n      this.resetProduct();\n    },\n    resetProduct() {\n      return {\n        id: null,\n        name: '',\n        description: '',\n        price: 0,\n        stock: 0,\n        category: '',\n        imageUrl: '',\n      };\n    },\n    truncateDescription(text, length = 100) {\n      return text.length > length ? text.substring(0, length) + '...' : text;\n    },\n    showError(message, error) {\n      console.error(message, error);\n      alert(`${message}: ${error.response?.data?.message || error.message}`);\n    },\n    goBack() {\n      this.$router.push({ name: 'AdminDashboard' });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.admin-products-container {\n  padding: 2rem;\n  max-width: 1400px;\n  margin: 0 auto;\n  margin-bottom: 10px;\n}\n\n.admin-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n}\n\n.admin-title {\n  font-size: 2rem;\n  font-weight: 600;\n  color: #2d3748;\n}\n\n.products-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: 1.5rem;\n}\n\n.product-card {\n  background: white;\n  border-radius: 12px;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n  transition: transform 0.2s, box-shadow 0.2s;\n  overflow: hidden;\n}\n\n.product-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);\n}\n\n.product-image {\n  position: relative;\n  height: 200px;\n  background: #f8fafc;\n}\n\n.product-img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.product-actions {\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  display: flex;\n  gap: 0.5rem;\n}\n\n.icon-btn {\n  width: 36px;\n  height: 36px;\n  border: none;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.icon-btn.edit {\n  background: #3b82f6;\n  color: white;\n}\n\n.icon-btn.delete {\n  background: #ef4444;\n  color: white;\n}\n\n.icon-btn:hover {\n  opacity: 0.9;\n  transform: scale(1.05);\n}\n\n.product-info {\n  padding: 1.5rem;\n}\n\n.product-title {\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n  color: #1e293b;\n}\n\n.product-description {\n  color: #64748b;\n  font-size: 0.875rem;\n  margin-bottom: 1rem;\n}\n\n.product-meta {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 1rem;\n}\n\n.meta-item {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.875rem;\n  color: #475569;\n}\n\n.meta-item i {\n  color: #94a3b8;\n}\n\n.empty-state {\n  text-align: center;\n  padding: 4rem;\n  background: white;\n  border-radius: 12px;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n}\n\n.empty-icon {\n  font-size: 3rem;\n  color: #cbd5e1;\n  margin-bottom: 1rem;\n}\n\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: none;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.modal-overlay.active {\n  display: flex;\n}\n\n.modal-container {\n  background: white;\n  border-radius: 12px;\n  width: 90%;\n  max-width: 600px;\n  max-height: 90vh;\n  overflow-y: auto;\n  animation: modalSlideIn 0.3s ease;\n}\n\n@keyframes modalSlideIn {\n  from {\n    transform: translateY(20px);\n    opacity: 0;\n  }\n  to {\n    transform: translateY(0);\n    opacity: 1;\n  }\n}\n\n.modal-header {\n  padding: 1.5rem;\n  border-bottom: 1px solid #e2e8f0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.modal-close {\n  border: none;\n  background: none;\n  color: #94a3b8;\n  cursor: pointer;\n  padding: 0.5rem;\n}\n\n.modal-form {\n  padding: 1.5rem;\n}\n\n.form-group {\n  margin-bottom: 1rem;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 0.5rem;\n  color: #475569;\n  font-weight: 500;\n}\n\n.form-group input,\n.form-group textarea {\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid #e2e8f0;\n  border-radius: 8px;\n  transition: border-color 0.2s;\n}\n\n.form-group input:focus,\n.form-group textarea:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n\n.form-row {\n  display: grid;\n  margin-bottom: 1rem;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 0.5rem;\n  color: #475569;\n  font-weight: 500;\n}\n\n.form-group input,\n.form-group textarea {\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid #e2e8f0;\n  border-radius: 8px;\n  transition: border-color 0.2s;\n}\n\n.form-group input:focus,\n.form-group textarea:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n\n.form-row {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 1rem;\n}\n\n.form-actions {\n  display: flex;\n  gap: 1rem;\n  justify-content: flex-end;\n  margin-top: 2rem;\n}\n\n.admin-btn {\n  padding: 0.75rem 1.5rem;\n  border: none;\n  border-radius: 8px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.admin-btn.primary {\n  background: #3b82f6;\n  color: white;\n}\n\n.admin-btn.secondary {\n  background: #e2e8f0;\n  color: #475569;\n}\n\n.admin-btn:hover {\n  opacity: 0.9;\n  transform: translateY(-1px);\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}