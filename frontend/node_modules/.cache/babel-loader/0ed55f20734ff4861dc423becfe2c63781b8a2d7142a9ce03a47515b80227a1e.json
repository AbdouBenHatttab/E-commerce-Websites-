{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mt-5\"\n};\nconst _hoisted_2 = {\n  class: \"table mt-3\"\n};\nconst _hoisted_3 = [\"onUpdate:modelValue\"];\nconst _hoisted_4 = [\"onUpdate:modelValue\"];\nconst _hoisted_5 = [\"onUpdate:modelValue\"];\nconst _hoisted_6 = [\"src\"];\nconst _hoisted_7 = {\n  key: 1\n};\nconst _hoisted_8 = [\"onClick\"];\nconst _hoisted_9 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[4] || (_cache[4] = _createElementVNode(\"h2\", null, \"Manage Users\", -1 /* HOISTED */)), _createElementVNode(\"table\", _hoisted_2, [_cache[3] || (_cache[3] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"ID\"), _createElementVNode(\"th\", null, \"Name\"), _createElementVNode(\"th\", null, \"Email\"), _createElementVNode(\"th\", null, \"Role\"), _createElementVNode(\"th\", null, \"Status\"), _createElementVNode(\"th\", null, \"Phone\"), _createElementVNode(\"th\", null, \"Address\"), _createElementVNode(\"th\", null, \"Image\"), _createElementVNode(\"th\", null, \"Password\"), _createElementVNode(\"th\", null, \"Actions\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.users, user => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: user.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(user.id), 1 /* TEXT */), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": $event => user.name = $event,\n      class: \"form-control\"\n    }, null, 8 /* PROPS */, _hoisted_3), [[_vModelText, user.name]])]), _createElementVNode(\"td\", null, _toDisplayString(user.email), 1 /* TEXT */), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"select\", {\n      \"onUpdate:modelValue\": $event => user.role = $event,\n      class: \"form-select\"\n    }, [...(_cache[0] || (_cache[0] = [_createElementVNode(\"option\", {\n      value: \"ROLE_USER\"\n    }, \"User\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n      value: \"ROLE_ADMIN\"\n    }, \"Admin\", -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_4), [[_vModelSelect, user.role]])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"select\", {\n      \"onUpdate:modelValue\": $event => user.status = $event,\n      class: \"form-select\"\n    }, [...(_cache[1] || (_cache[1] = [_createElementVNode(\"option\", {\n      value: \"ACTIVE\"\n    }, \"Active\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n      value: \"INACTIVE\"\n    }, \"Inactive\", -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_5), [[_vModelSelect, user.status]])]), _createElementVNode(\"td\", null, _toDisplayString(user.phoneNumber || 'N/A'), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.address || 'N/A'), 1 /* TEXT */), _createElementVNode(\"td\", null, [user.imageUrl ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 0,\n      src: 'http://localhost:8080/uploads/' + user.imageUrl,\n      alt: \"User Image\",\n      class: \"img-thumbnail\",\n      width: \"50\"\n    }, null, 8 /* PROPS */, _hoisted_6)) : (_openBlock(), _createElementBlock(\"span\", _hoisted_7, \"No Image\"))]), _cache[2] || (_cache[2] = _createElementVNode(\"td\", null, \"***\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      class: \"btn btn-success btn-sm me-2\",\n      onClick: $event => $options.updateUser(user)\n    }, \" Save \", 8 /* PROPS */, _hoisted_8), _createElementVNode(\"button\", {\n      class: \"btn btn-danger btn-sm\",\n      onClick: $event => $options.deleteUser(user.id)\n    }, \" Delete \", 8 /* PROPS */, _hoisted_9)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_Fragment","_renderList","$data","users","user","id","_toDisplayString","$event","name","_hoisted_3","email","role","value","_hoisted_4","status","_hoisted_5","phoneNumber","address","imageUrl","src","alt","width","_hoisted_6","_hoisted_7","onClick","$options","updateUser","_hoisted_8","deleteUser","_hoisted_9"],"sources":["C:\\Users\\Hedib\\OneDrive\\Bureau\\hello-word-vue\\src\\components\\admin\\AdminUsers.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-5\">\n    <h2>Manage Users</h2>\n    <table class=\"table mt-3\">\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Name</th>\n          <th>Email</th>\n          <th>Role</th>\n          <th>Status</th>\n          <th>Phone</th>\n          <th>Address</th>\n          <th>Image</th>\n          <th>Password</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"user in users\" :key=\"user.id\">\n          <td>{{ user.id }}</td>\n          <td><input v-model=\"user.name\" class=\"form-control\" /></td>\n          <td>{{ user.email }}</td>\n          <td>\n            <select v-model=\"user.role\" class=\"form-select\">\n              <option value=\"ROLE_USER\">User</option>\n              <option value=\"ROLE_ADMIN\">Admin</option>\n            </select>\n          </td>\n          <td>\n            <select v-model=\"user.status\" class=\"form-select\">\n              <option value=\"ACTIVE\">Active</option>\n              <option value=\"INACTIVE\">Inactive</option>\n            </select>\n          </td>\n          <td>{{ user.phoneNumber || 'N/A' }}</td>\n          <td>{{ user.address || 'N/A' }}</td>\n          <td>\n            <img\n              v-if=\"user.imageUrl\"\n              :src=\"'http://localhost:8080/uploads/' + user.imageUrl\"\n              alt=\"User Image\"\n              class=\"img-thumbnail\"\n              width=\"50\"\n            />\n            <span v-else>No Image</span>\n          </td>\n          <td>***</td>\n          <td>\n            <button\n              class=\"btn btn-success btn-sm me-2\"\n              @click=\"updateUser(user)\"\n            >\n              Save\n            </button>\n            <button class=\"btn btn-danger btn-sm\" @click=\"deleteUser(user.id)\">\n              Delete\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport UserService from '@/services/UserService';\n\nexport default {\n  data() {\n    return {\n      users: [],\n    };\n  },\n  async created() {\n    await this.fetchUsers();\n  },\n  methods: {\n    async fetchUsers() {\n      try {\n        const response = await UserService.getAllUsers();\n        this.users = response.data;\n      } catch (error) {\n        console.error('Error fetching users:', error);\n      }\n    },\n    async updateUser(user) {\n      try {\n        console.log('Updating user:', user);\n        await UserService.updateUser(user.id, {\n          name: user.name,\n          email: user.email,\n          role: user.role,\n          status: user.status,\n          phoneNumber: user.phoneNumber,\n          address: user.address,\n          imageUrl: user.imageUrl,\n        });\n        alert('User updated successfully!');\n      } catch (error) {\n        console.error('Error updating user:', error);\n        alert('Failed to update user.');\n      }\n    },\n    async deleteUser(id) {\n      try {\n        await UserService.deleteUser(id);\n        this.users = this.users.filter((user) => user.id !== id);\n        alert('User deleted successfully!');\n      } catch (error) {\n        console.error('Error deleting user:', error);\n        alert('Failed to delete user.');\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.img-thumbnail {\n  border-radius: 50%;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}