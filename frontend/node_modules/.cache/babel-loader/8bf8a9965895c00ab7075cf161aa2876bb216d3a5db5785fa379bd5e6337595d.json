{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mt-5\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"table mt-3\"\n};\nconst _hoisted_3 = [\"onClick\"];\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = {\n  key: 1\n};\nconst _hoisted_6 = {\n  key: 2,\n  class: \"mt-4\"\n};\nconst _hoisted_7 = {\n  class: \"mb-3\"\n};\nconst _hoisted_8 = {\n  class: \"mb-3\"\n};\nconst _hoisted_9 = {\n  class: \"mb-3\"\n};\nconst _hoisted_10 = {\n  class: \"mb-3\"\n};\nconst _hoisted_11 = {\n  class: \"mb-3\"\n};\nconst _hoisted_12 = {\n  class: \"mb-3\"\n};\nconst _hoisted_13 = {\n  class: \"mb-3\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[23] || (_cache[23] = _createElementVNode(\"h2\", null, \"Manage Users\", -1 /* HOISTED */)), $data.users.length ? (_openBlock(), _createElementBlock(\"table\", _hoisted_2, [_cache[10] || (_cache[10] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"ID\"), _createElementVNode(\"th\", null, \"Name\"), _createElementVNode(\"th\", null, \"Email\"), _createElementVNode(\"th\", null, \"Role\"), _createElementVNode(\"th\", null, \"Status\"), _createElementVNode(\"th\", null, \"Actions\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.users, user => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: user.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(user.id), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.email), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.role), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.status), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      class: \"btn btn-warning btn-sm me-1\",\n      onClick: $event => $options.selectUser(user)\n    }, \" Edit \", 8 /* PROPS */, _hoisted_3), _createElementVNode(\"button\", {\n      class: \"btn btn-danger btn-sm\",\n      onClick: $event => $options.deleteUser(user.id)\n    }, \" Delete \", 8 /* PROPS */, _hoisted_4)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _cache[11] || (_cache[11] = [_createElementVNode(\"p\", null, \"No users found.\", -1 /* HOISTED */)]))), _createElementVNode(\"button\", {\n    class: \"btn btn-secondary mt-3\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args))\n  }, \"Back\"), _createCommentVNode(\" Edit Form \"), $data.selectedUser ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_cache[22] || (_cache[22] = _createElementVNode(\"h3\", null, \"Edit User\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[9] || (_cache[9] = _withModifiers((...args) => $options.updateUser && $options.updateUser(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_7, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", null, \"Name:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.selectedUser.name = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.selectedUser.name]])]), _createElementVNode(\"div\", _hoisted_8, [_cache[13] || (_cache[13] = _createElementVNode(\"label\", null, \"Email:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.selectedUser.email = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.selectedUser.email]])]), _createElementVNode(\"div\", _hoisted_9, [_cache[15] || (_cache[15] = _createElementVNode(\"label\", null, \"Role:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.selectedUser.role = $event),\n    class: \"form-select\"\n  }, _cache[14] || (_cache[14] = [_createElementVNode(\"option\", {\n    value: \"ROLE_ADMIN\"\n  }, \"Admin\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"ROLE_USER\"\n  }, \"User\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $data.selectedUser.role]])]), _createElementVNode(\"div\", _hoisted_10, [_cache[17] || (_cache[17] = _createElementVNode(\"label\", null, \"Status:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.selectedUser.status = $event),\n    class: \"form-select\"\n  }, _cache[16] || (_cache[16] = [_createElementVNode(\"option\", {\n    value: \"ACTIVE\"\n  }, \"Active\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"INACTIVE\"\n  }, \"Inactive\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $data.selectedUser.status]])]), _createElementVNode(\"div\", _hoisted_11, [_cache[18] || (_cache[18] = _createElementVNode(\"label\", null, \"Phone Number:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.selectedUser.phoneNumber = $event),\n    class: \"form-control\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.selectedUser.phoneNumber]])]), _createElementVNode(\"div\", _hoisted_12, [_cache[19] || (_cache[19] = _createElementVNode(\"label\", null, \"Address:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.selectedUser.address = $event),\n    class: \"form-control\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.selectedUser.address]])]), _createElementVNode(\"div\", _hoisted_13, [_cache[20] || (_cache[20] = _createElementVNode(\"label\", null, \"Image URL:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.selectedUser.imageUrl = $event),\n    class: \"form-control\",\n    placeholder: \"Optional\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.selectedUser.imageUrl]])]), _cache[21] || (_cache[21] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn btn-primary\"\n  }, \"Update User\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-secondary ms-2\",\n    onClick: _cache[8] || (_cache[8] = (...args) => $options.cancelEdit && $options.cancelEdit(...args))\n  }, \" Cancel \")], 32 /* NEED_HYDRATION */)])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","$data","users","length","_hoisted_2","_Fragment","_renderList","user","id","_toDisplayString","name","email","role","status","onClick","$event","$options","selectUser","_hoisted_3","deleteUser","_hoisted_4","_hoisted_5","_cache","args","goBack","_createCommentVNode","selectedUser","_hoisted_6","onSubmit","_withModifiers","updateUser","_hoisted_7","type","required","_hoisted_8","_hoisted_9","value","_hoisted_10","_hoisted_11","phoneNumber","_hoisted_12","address","_hoisted_13","imageUrl","placeholder","cancelEdit"],"sources":["C:\\Users\\Hedib\\OneDrive\\Bureau\\hello-word-vue\\src\\components\\admin\\AdminUsers.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-5\">\n    <h2>Manage Users</h2>\n    <table class=\"table mt-3\" v-if=\"users.length\">\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Name</th>\n          <th>Email</th>\n          <th>Role</th>\n          <th>Status</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"user in users\" :key=\"user.id\">\n          <td>{{ user.id }}</td>\n          <td>{{ user.name }}</td>\n          <td>{{ user.email }}</td>\n          <td>{{ user.role }}</td>\n          <td>{{ user.status }}</td>\n          <td>\n            <button\n              class=\"btn btn-warning btn-sm me-1\"\n              @click=\"selectUser(user)\"\n            >\n              Edit\n            </button>\n            <button class=\"btn btn-danger btn-sm\" @click=\"deleteUser(user.id)\">\n              Delete\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <div v-else>\n      <p>No users found.</p>\n    </div>\n    <button class=\"btn btn-secondary mt-3\" @click=\"goBack\">Back</button>\n\n    <!-- Edit Form -->\n    <div v-if=\"selectedUser\" class=\"mt-4\">\n      <h3>Edit User</h3>\n      <form @submit.prevent=\"updateUser\">\n        <div class=\"mb-3\">\n          <label>Name:</label>\n          <input\n            type=\"text\"\n            v-model=\"selectedUser.name\"\n            class=\"form-control\"\n            required\n          />\n        </div>\n        <div class=\"mb-3\">\n          <label>Email:</label>\n          <input\n            type=\"email\"\n            v-model=\"selectedUser.email\"\n            class=\"form-control\"\n            required\n          />\n        </div>\n        <div class=\"mb-3\">\n          <label>Role:</label>\n          <select v-model=\"selectedUser.role\" class=\"form-select\">\n            <option value=\"ROLE_ADMIN\">Admin</option>\n            <option value=\"ROLE_USER\">User</option>\n          </select>\n        </div>\n        <div class=\"mb-3\">\n          <label>Status:</label>\n          <select v-model=\"selectedUser.status\" class=\"form-select\">\n            <option value=\"ACTIVE\">Active</option>\n            <option value=\"INACTIVE\">Inactive</option>\n          </select>\n        </div>\n        <div class=\"mb-3\">\n          <label>Phone Number:</label>\n          <input\n            type=\"text\"\n            v-model=\"selectedUser.phoneNumber\"\n            class=\"form-control\"\n          />\n        </div>\n        <div class=\"mb-3\">\n          <label>Address:</label>\n          <input\n            type=\"text\"\n            v-model=\"selectedUser.address\"\n            class=\"form-control\"\n          />\n        </div>\n        <div class=\"mb-3\">\n          <label>Image URL:</label>\n          <input\n            type=\"text\"\n            v-model=\"selectedUser.imageUrl\"\n            class=\"form-control\"\n            placeholder=\"Optional\"\n          />\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary\">Update User</button>\n        <button\n          type=\"button\"\n          class=\"btn btn-secondary ms-2\"\n          @click=\"cancelEdit\"\n        >\n          Cancel\n        </button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport UserService from '@/services/serService';\n\nexport default {\n  name: 'AdminUsers',\n  data() {\n    return {\n      users: [],\n      selectedUser: null,\n    };\n  },\n  async created() {\n    console.log('Stored token:', localStorage.getItem('token'));\n    console.log('Stored user:', localStorage.getItem('user'));\n    try {\n      const res = await UserService.getAllUsers();\n      this.users = res.data;\n    } catch (error) {\n      console.error('Error fetching users:', error);\n    }\n  },\n  methods: {\n    selectUser(user) {\n      this.selectedUser = { ...user };\n    },\n    async updateUser() {\n      try {\n        await UserService.updateUser(this.selectedUser.id, this.selectedUser);\n        // Refresh users list after update\n        const res = await UserService.getAllUsers();\n        this.users = res.data;\n        this.selectedUser = null;\n      } catch (error) {\n        console.error('Error updating user:', error);\n      }\n    },\n    async deleteUser(id) {\n      try {\n        await UserService.deleteUser(id);\n        this.users = this.users.filter((user) => user.id !== id);\n      } catch (error) {\n        console.error('Error deleting user:', error);\n      }\n    },\n    cancelEdit() {\n      this.selectedUser = null;\n    },\n    goBack() {\n      this.$router.push({ name: 'AdminDashboard' });\n    },\n  },\n};\n</script>\n\n<style scoped>\ntable {\n  margin-top: 20px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}