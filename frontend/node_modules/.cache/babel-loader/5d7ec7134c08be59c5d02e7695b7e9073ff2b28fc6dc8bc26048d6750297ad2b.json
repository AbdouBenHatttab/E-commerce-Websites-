{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport ProductService from '@/services/ProductService';\nexport default {\n  data() {\n    return {\n      products: [],\n      showForm: false,\n      editingProduct: null,\n      loading: false,\n      currentProduct: {\n        name: '',\n        description: '',\n        price: 0,\n        stock: 0,\n        imageUrl: ''\n      },\n      errors: {}\n    };\n  },\n  async created() {\n    await this.fetchProducts();\n  },\n  methods: {\n    async fetchProducts() {\n      try {\n        const response = await ProductService.getAllProducts();\n        this.products = response.data;\n      } catch (error) {\n        this.showError('Failed to fetch products');\n      }\n    },\n    toggleForm() {\n      this.showForm = !this.showForm;\n      if (!this.showForm) this.resetForm();\n    },\n    closeModal() {\n      this.showForm = false;\n      this.resetForm();\n    },\n    resetForm() {\n      this.currentProduct = {\n        name: '',\n        description: '',\n        price: 0,\n        stock: 0,\n        imageUrl: ''\n      };\n      this.editingProduct = null;\n      this.errors = {};\n    },\n    validateForm() {\n      this.errors = {};\n      let isValid = true;\n      if (!this.currentProduct.name.trim()) {\n        this.errors.name = 'Product name is required';\n        isValid = false;\n      }\n      if (this.currentProduct.price <= 0) {\n        this.errors.price = 'Price must be greater than 0';\n        isValid = false;\n      }\n      if (this.currentProduct.stock < 0) {\n        this.errors.stock = 'Stock cannot be negative';\n        isValid = false;\n      }\n      return isValid;\n    },\n    async saveProduct() {\n      if (!this.validateForm()) return;\n      this.loading = true;\n      try {\n        if (this.editingProduct) {\n          await ProductService.updateProduct(this.editingProduct.id, this.currentProduct);\n          const index = this.products.findIndex(p => p.id === this.editingProduct.id);\n          this.products.splice(index, 1, {\n            ...this.currentProduct,\n            id: this.editingProduct.id\n          });\n        } else {\n          const response = await ProductService.createProduct(this.currentProduct);\n          this.products.push(response.data);\n        }\n        this.closeModal();\n      } catch (error) {\n        this.showError('Failed to save product');\n      } finally {\n        this.loading = false;\n      }\n    },\n    async confirmDelete(id) {\n      if (confirm('Are you sure you want to delete this product?')) {\n        try {\n          await ProductService.deleteProduct(id);\n          this.products = this.products.filter(p => p.id !== id);\n        } catch (error) {\n          this.showError('Failed to delete product');\n        }\n      }\n    },\n    showError(message) {\n      alert(message);\n    }\n  }\n};","map":{"version":3,"names":["ProductService","data","products","showForm","editingProduct","loading","currentProduct","name","description","price","stock","imageUrl","errors","created","fetchProducts","methods","response","getAllProducts","error","showError","toggleForm","resetForm","closeModal","validateForm","isValid","trim","saveProduct","updateProduct","id","index","findIndex","p","splice","createProduct","push","confirmDelete","confirm","deleteProduct","filter","message","alert"],"sources":["C:\\Users\\Hedib\\OneDrive\\Bureau\\hello-word-vue\\src\\components\\admin\\AdminProducts.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-4 fade-in\">\n    <div class=\"d-flex justify-content-between align-items-center mb-4\">\n      <h2 class=\"text-primary mb-0\">Product Management</h2>\n      <button class=\"btn btn-gradient-primary\" @click=\"toggleForm\">\n        <i class=\"bi bi-plus-circle me-2\"></i>Add Product\n      </button>\n    </div>\n\n    <!-- Add Product Modal -->\n    <div v-if=\"showForm\" class=\"modal-overlay\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\">\n            {{ editingProduct ? 'Edit Product' : 'New Product' }}\n          </h5>\n          <button type=\"button\" class=\"btn-close\" @click=\"closeModal\"></button>\n        </div>\n        <div class=\"modal-body\">\n          <form @submit.prevent=\"saveProduct\">\n            <div class=\"mb-3\">\n              <label class=\"form-label\">Product Name</label>\n              <input\n                v-model=\"currentProduct.name\"\n                type=\"text\"\n                class=\"form-control\"\n                :class=\"{ 'is-invalid': errors.name }\"\n                required\n              />\n              <div v-if=\"errors.name\" class=\"invalid-feedback\">\n                {{ errors.name }}\n              </div>\n            </div>\n\n            <div class=\"mb-3\">\n              <label class=\"form-label\">Description</label>\n              <textarea\n                v-model=\"currentProduct.description\"\n                class=\"form-control\"\n                rows=\"3\"\n                :class=\"{ 'is-invalid': errors.description }\"\n              ></textarea>\n              <div v-if=\"errors.description\" class=\"invalid-feedback\">\n                {{ errors.description }}\n              </div>\n            </div>\n\n            <div class=\"row g-3\">\n              <div class=\"col-md-6\">\n                <label class=\"form-label\">Price ($)</label>\n                <input\n                  v-model.number=\"currentProduct.price\"\n                  type=\"number\"\n                  class=\"form-control\"\n                  :class=\"{ 'is-invalid': errors.price }\"\n                  step=\"0.01\"\n                  required\n                />\n                <div v-if=\"errors.price\" class=\"invalid-feedback\">\n                  {{ errors.price }}\n                </div>\n              </div>\n              <div class=\"col-md-6\">\n                <label class=\"form-label\">Stock</label>\n                <input\n                  v-model.number=\"currentProduct.stock\"\n                  type=\"number\"\n                  class=\"form-control\"\n                  :class=\"{ 'is-invalid': errors.stock }\"\n                  required\n                />\n                <div v-if=\"errors.stock\" class=\"invalid-feedback\">\n                  {{ errors.stock }}\n                </div>\n              </div>\n            </div>\n\n            <div class=\"mb-3\">\n              <label class=\"form-label\">Image URL</label>\n              <input\n                v-model=\"currentProduct.imageUrl\"\n                type=\"url\"\n                class=\"form-control\"\n                :class=\"{ 'is-invalid': errors.imageUrl }\"\n                placeholder=\"https://example.com/image.jpg\"\n              />\n              <div v-if=\"errors.imageUrl\" class=\"invalid-feedback\">\n                {{ errors.imageUrl }}\n              </div>\n            </div>\n\n            <div class=\"modal-footer\">\n              <button\n                type=\"button\"\n                class=\"btn btn-secondary\"\n                @click=\"closeModal\"\n              >\n                Cancel\n              </button>\n              <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"loading\">\n                <span\n                  v-if=\"loading\"\n                  class=\"spinner-border spinner-border-sm\"\n                ></span>\n                {{ editingProduct ? 'Update' : 'Create' }}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n\n    <!-- Products Grid -->\n    <div\n      v-if=\"products.length\"\n      class=\"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4\"\n    >\n      <div v-for=\"product in products\" :key=\"product.id\" class=\"col\">\n        <div class=\"card product-card h-100\">\n          <div class=\"card-img-top\">\n            <img\n              :src=\"product.imageUrl || 'https://via.placeholder.com/300'\"\n              class=\"product-image\"\n              alt=\"Product\"\n            />\n          </div>\n          <div class=\"card-body\">\n            <h5 class=\"card-title\">{{ product.name }}</h5>\n            <p class=\"card-text text-muted truncate\">\n              {{ product.description }}\n            </p>\n            <div class=\"d-flex justify-content-between align-items-center mb-3\">\n              <span class=\"badge bg-primary\"\n                >${{ product.price.toFixed(2) }}</span\n              >\n              <span\n                class=\"badge\"\n                :class=\"product.stock > 0 ? 'bg-success' : 'bg-danger'\"\n              >\n                {{\n                  product.stock > 0\n                    ? `${product.stock} in stock`\n                    : 'Out of stock'\n                }}\n              </span>\n            </div>\n            <div class=\"d-grid gap-2\">\n              <button\n                class=\"btn btn-outline-danger\"\n                @click=\"confirmDelete(product.id)\"\n              >\n                <i class=\"bi bi-trash me-2\"></i>Delete\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div v-else class=\"text-center py-5\">\n      <div class=\"empty-state\">\n        <i class=\"bi bi-box-seam display-4 text-muted\"></i>\n        <h4 class=\"mt-3\">No products found</h4>\n        <p class=\"text-muted\">Start by adding your first product</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ProductService from '@/services/ProductService';\n\nexport default {\n  data() {\n    return {\n      products: [],\n      showForm: false,\n      editingProduct: null,\n      loading: false,\n      currentProduct: {\n        name: '',\n        description: '',\n        price: 0,\n        stock: 0,\n        imageUrl: '',\n      },\n      errors: {},\n    };\n  },\n  async created() {\n    await this.fetchProducts();\n  },\n  methods: {\n    async fetchProducts() {\n      try {\n        const response = await ProductService.getAllProducts();\n        this.products = response.data;\n      } catch (error) {\n        this.showError('Failed to fetch products');\n      }\n    },\n    toggleForm() {\n      this.showForm = !this.showForm;\n      if (!this.showForm) this.resetForm();\n    },\n    closeModal() {\n      this.showForm = false;\n      this.resetForm();\n    },\n    resetForm() {\n      this.currentProduct = {\n        name: '',\n        description: '',\n        price: 0,\n        stock: 0,\n        imageUrl: '',\n      };\n      this.editingProduct = null;\n      this.errors = {};\n    },\n    validateForm() {\n      this.errors = {};\n      let isValid = true;\n\n      if (!this.currentProduct.name.trim()) {\n        this.errors.name = 'Product name is required';\n        isValid = false;\n      }\n      if (this.currentProduct.price <= 0) {\n        this.errors.price = 'Price must be greater than 0';\n        isValid = false;\n      }\n      if (this.currentProduct.stock < 0) {\n        this.errors.stock = 'Stock cannot be negative';\n        isValid = false;\n      }\n\n      return isValid;\n    },\n    async saveProduct() {\n      if (!this.validateForm()) return;\n\n      this.loading = true;\n      try {\n        if (this.editingProduct) {\n          await ProductService.updateProduct(\n            this.editingProduct.id,\n            this.currentProduct\n          );\n          const index = this.products.findIndex(\n            (p) => p.id === this.editingProduct.id\n          );\n          this.products.splice(index, 1, {\n            ...this.currentProduct,\n            id: this.editingProduct.id,\n          });\n        } else {\n          const response = await ProductService.createProduct(\n            this.currentProduct\n          );\n          this.products.push(response.data);\n        }\n        this.closeModal();\n      } catch (error) {\n        this.showError('Failed to save product');\n      } finally {\n        this.loading = false;\n      }\n    },\n    async confirmDelete(id) {\n      if (confirm('Are you sure you want to delete this product?')) {\n        try {\n          await ProductService.deleteProduct(id);\n          this.products = this.products.filter((p) => p.id !== id);\n        } catch (error) {\n          this.showError('Failed to delete product');\n        }\n      }\n    },\n    showError(message) {\n      alert(message);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.fade-in {\n  animation: fadeIn 0.3s ease-in;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.modal-content {\n  background: white;\n  padding: 2rem;\n  border-radius: 12px;\n  max-width: 500px;\n  width: 90%;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n}\n\n.product-card {\n  transition: transform 0.2s, box-shadow 0.2s;\n  border: none;\n  overflow: hidden;\n}\n\n.product-card:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);\n}\n\n.product-image {\n  width: 100%;\n  height: 200px;\n  object-fit: cover;\n  transition: transform 0.3s ease;\n}\n\n.product-image:hover {\n  transform: scale(1.05);\n}\n\n.truncate {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n.btn-gradient-primary {\n  background: linear-gradient(135deg, #3b82f6, #6366f1);\n  color: white;\n  border: none;\n  padding: 0.75rem 1.5rem;\n  border-radius: 8px;\n}\n\n.btn-gradient-primary:hover {\n  opacity: 0.9;\n}\n\n.empty-state {\n  opacity: 0.6;\n  padding: 4rem;\n  border: 2px dashed #e5e7eb;\n  border-radius: 12px;\n}\n</style>\n"],"mappings":";;;AA0KA,OAAOA,cAAa,MAAO,2BAA2B;AAEtD,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,KAAK;MACfC,cAAc,EAAE,IAAI;MACpBC,OAAO,EAAE,KAAK;MACdC,cAAc,EAAE;QACdC,IAAI,EAAE,EAAE;QACRC,WAAW,EAAE,EAAE;QACfC,KAAK,EAAE,CAAC;QACRC,KAAK,EAAE,CAAC;QACRC,QAAQ,EAAE;MACZ,CAAC;MACDC,MAAM,EAAE,CAAC;IACX,CAAC;EACH,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,MAAM,IAAI,CAACC,aAAa,CAAC,CAAC;EAC5B,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,aAAaA,CAAA,EAAG;MACpB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMhB,cAAc,CAACiB,cAAc,CAAC,CAAC;QACtD,IAAI,CAACf,QAAO,GAAIc,QAAQ,CAACf,IAAI;MAC/B,EAAE,OAAOiB,KAAK,EAAE;QACd,IAAI,CAACC,SAAS,CAAC,0BAA0B,CAAC;MAC5C;IACF,CAAC;IACDC,UAAUA,CAAA,EAAG;MACX,IAAI,CAACjB,QAAO,GAAI,CAAC,IAAI,CAACA,QAAQ;MAC9B,IAAI,CAAC,IAAI,CAACA,QAAQ,EAAE,IAAI,CAACkB,SAAS,CAAC,CAAC;IACtC,CAAC;IACDC,UAAUA,CAAA,EAAG;MACX,IAAI,CAACnB,QAAO,GAAI,KAAK;MACrB,IAAI,CAACkB,SAAS,CAAC,CAAC;IAClB,CAAC;IACDA,SAASA,CAAA,EAAG;MACV,IAAI,CAACf,cAAa,GAAI;QACpBC,IAAI,EAAE,EAAE;QACRC,WAAW,EAAE,EAAE;QACfC,KAAK,EAAE,CAAC;QACRC,KAAK,EAAE,CAAC;QACRC,QAAQ,EAAE;MACZ,CAAC;MACD,IAAI,CAACP,cAAa,GAAI,IAAI;MAC1B,IAAI,CAACQ,MAAK,GAAI,CAAC,CAAC;IAClB,CAAC;IACDW,YAAYA,CAAA,EAAG;MACb,IAAI,CAACX,MAAK,GAAI,CAAC,CAAC;MAChB,IAAIY,OAAM,GAAI,IAAI;MAElB,IAAI,CAAC,IAAI,CAAClB,cAAc,CAACC,IAAI,CAACkB,IAAI,CAAC,CAAC,EAAE;QACpC,IAAI,CAACb,MAAM,CAACL,IAAG,GAAI,0BAA0B;QAC7CiB,OAAM,GAAI,KAAK;MACjB;MACA,IAAI,IAAI,CAAClB,cAAc,CAACG,KAAI,IAAK,CAAC,EAAE;QAClC,IAAI,CAACG,MAAM,CAACH,KAAI,GAAI,8BAA8B;QAClDe,OAAM,GAAI,KAAK;MACjB;MACA,IAAI,IAAI,CAAClB,cAAc,CAACI,KAAI,GAAI,CAAC,EAAE;QACjC,IAAI,CAACE,MAAM,CAACF,KAAI,GAAI,0BAA0B;QAC9Cc,OAAM,GAAI,KAAK;MACjB;MAEA,OAAOA,OAAO;IAChB,CAAC;IACD,MAAME,WAAWA,CAAA,EAAG;MAClB,IAAI,CAAC,IAAI,CAACH,YAAY,CAAC,CAAC,EAAE;MAE1B,IAAI,CAAClB,OAAM,GAAI,IAAI;MACnB,IAAI;QACF,IAAI,IAAI,CAACD,cAAc,EAAE;UACvB,MAAMJ,cAAc,CAAC2B,aAAa,CAChC,IAAI,CAACvB,cAAc,CAACwB,EAAE,EACtB,IAAI,CAACtB,cACP,CAAC;UACD,MAAMuB,KAAI,GAAI,IAAI,CAAC3B,QAAQ,CAAC4B,SAAS,CAClCC,CAAC,IAAKA,CAAC,CAACH,EAAC,KAAM,IAAI,CAACxB,cAAc,CAACwB,EACtC,CAAC;UACD,IAAI,CAAC1B,QAAQ,CAAC8B,MAAM,CAACH,KAAK,EAAE,CAAC,EAAE;YAC7B,GAAG,IAAI,CAACvB,cAAc;YACtBsB,EAAE,EAAE,IAAI,CAACxB,cAAc,CAACwB;UAC1B,CAAC,CAAC;QACJ,OAAO;UACL,MAAMZ,QAAO,GAAI,MAAMhB,cAAc,CAACiC,aAAa,CACjD,IAAI,CAAC3B,cACP,CAAC;UACD,IAAI,CAACJ,QAAQ,CAACgC,IAAI,CAAClB,QAAQ,CAACf,IAAI,CAAC;QACnC;QACA,IAAI,CAACqB,UAAU,CAAC,CAAC;MACnB,EAAE,OAAOJ,KAAK,EAAE;QACd,IAAI,CAACC,SAAS,CAAC,wBAAwB,CAAC;MAC1C,UAAU;QACR,IAAI,CAACd,OAAM,GAAI,KAAK;MACtB;IACF,CAAC;IACD,MAAM8B,aAAaA,CAACP,EAAE,EAAE;MACtB,IAAIQ,OAAO,CAAC,+CAA+C,CAAC,EAAE;QAC5D,IAAI;UACF,MAAMpC,cAAc,CAACqC,aAAa,CAACT,EAAE,CAAC;UACtC,IAAI,CAAC1B,QAAO,GAAI,IAAI,CAACA,QAAQ,CAACoC,MAAM,CAAEP,CAAC,IAAKA,CAAC,CAACH,EAAC,KAAMA,EAAE,CAAC;QAC1D,EAAE,OAAOV,KAAK,EAAE;UACd,IAAI,CAACC,SAAS,CAAC,0BAA0B,CAAC;QAC5C;MACF;IACF,CAAC;IACDA,SAASA,CAACoB,OAAO,EAAE;MACjBC,KAAK,CAACD,OAAO,CAAC;IAChB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}