{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container py-5\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"card shadow-lg border-0 overflow-hidden\"\n};\nconst _hoisted_3 = {\n  class: \"row g-0\"\n};\nconst _hoisted_4 = {\n  class: \"col-lg-6 position-relative\"\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  class: \"position-absolute top-0 start-0 m-3\"\n};\nconst _hoisted_7 = {\n  class: \"badge bg-danger fs-6\"\n};\nconst _hoisted_8 = {\n  class: \"col-lg-6\"\n};\nconst _hoisted_9 = {\n  class: \"card-body p-4 p-xl-5\"\n};\nconst _hoisted_10 = {\n  class: \"mb-3\"\n};\nconst _hoisted_11 = {\n  class: \"d-flex align-items-baseline gap-3 mb-4\"\n};\nconst _hoisted_12 = {\n  class: \"text-primary\"\n};\nconst _hoisted_13 = {\n  class: \"text-muted fs-5\"\n};\nconst _hoisted_14 = {\n  class: \"row g-3 mb-4\"\n};\nconst _hoisted_15 = {\n  class: \"bg-light p-3 rounded\"\n};\nconst _hoisted_16 = {\n  class: \"text-muted d-block small\"\n};\nconst _hoisted_17 = {\n  class: \"mb-4\"\n};\nconst _hoisted_18 = {\n  class: \"text-muted\",\n  style: {\n    \"white-space\": \"pre-wrap\"\n  }\n};\nconst _hoisted_19 = {\n  class: \"d-grid gap-3\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$data.product ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createCommentVNode(\" Product Content \"), _createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" Image Section \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"img\", {\n    src: $data.product.imageUrl,\n    class: \"img-fluid rounded-start object-fit-cover h-100\",\n    alt: \"Product image\",\n    style: {\n      \"min-height\": \"300px\\n            maax\"\n    }\n  }, null, 8 /* PROPS */, _hoisted_5), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"span\", _hoisted_7, \"-\" + _toDisplayString($options.discountPercentage) + \"%\", 1 /* TEXT */)])]), _createCommentVNode(\" Details Section \"), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createCommentVNode(\" Product Info \"), _createElementVNode(\"h1\", _hoisted_10, _toDisplayString($data.product.name), 1 /* TEXT */), _createCommentVNode(\" Rating \"), _createCommentVNode(\" <div class=\\\"d-flex align-items-center mb-4\\\">\\n              <div class=\\\"rating-stars me-3\\\">\\n                <i\\n                  v-for=\\\"star in 5\\\"\\n                  :key=\\\"star\\\"\\n                  class=\\\"bi bi-star-fill me-1\\\"\\n                  :class=\\\"\\n                    star <= product.rating ? 'text-warning' : 'text-muted'\\n                  \\\"\\n                ></i>\\n              </div>\\n              <span class=\\\"text-muted\\\"\\n                >({{ product.reviews || 0 }} reviews)</span\\n              >\\n            </div> \"), _createCommentVNode(\" Price \"), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"h2\", _hoisted_12, \"$\" + _toDisplayString($data.product.price), 1 /* TEXT */), _createElementVNode(\"del\", _hoisted_13, \"$\" + _toDisplayString($data.product.originalPrice), 1 /* TEXT */)]), _createCommentVNode(\" Specifications \"), _createElementVNode(\"div\", _hoisted_14, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.productSpecs, (spec, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"col-md-6\",\n      key: index\n    }, [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"span\", _hoisted_16, _toDisplayString(spec.label), 1 /* TEXT */), _createElementVNode(\"strong\", null, _toDisplayString(spec.value), 1 /* TEXT */)])]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createCommentVNode(\" Description \"), _createElementVNode(\"div\", _hoisted_17, [_cache[2] || (_cache[2] = _createElementVNode(\"h4\", {\n    class: \"mb-3\"\n  }, \"Description\", -1 /* HOISTED */)), _createElementVNode(\"p\", _hoisted_18, _toDisplayString($data.product.description), 1 /* TEXT */)]), _createCommentVNode(\" Add to Cart \"), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"button\", {\n    class: \"btn btn-primary btn-lg py-3\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.addToCart && $options.addToCart(...args))\n  }, _cache[3] || (_cache[3] = [_createElementVNode(\"i\", {\n    class: \"bi bi-cart-plus me-2\"\n  }, null, -1 /* HOISTED */), _createTextVNode(\"Add to Cart \")])), _createElementVNode(\"button\", {\n    class: \"btn btn-outline-secondary\",\n    onClick: _cache[1] || (_cache[1] = $event => _ctx.$router.go(-1))\n  }, _cache[4] || (_cache[4] = [_createElementVNode(\"i\", {\n    class: \"bi bi-arrow-left me-2\"\n  }, null, -1 /* HOISTED */), _createTextVNode(\"Continue Shopping \")]))])])])])])) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Loading State \"), _cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n    class: \"text-center py-5\"\n  }, [_createElementVNode(\"div\", {\n    class: \"spinner-border text-primary\",\n    role: \"status\"\n  }, [_createElementVNode(\"span\", {\n    class: \"visually-hidden\"\n  }, \"Loading...\")]), _createElementVNode(\"p\", {\n    class: \"mt-3 text-muted\"\n  }, \"Loading product details...\")], -1 /* HOISTED */))], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))]);\n}","map":{"version":3,"names":["class","key","style","_createElementBlock","_hoisted_1","$data","product","_hoisted_2","_createCommentVNode","_createElementVNode","_hoisted_3","_hoisted_4","src","imageUrl","alt","_hoisted_5","_hoisted_6","_hoisted_7","_toDisplayString","$options","discountPercentage","_hoisted_8","_hoisted_9","_hoisted_10","name","_hoisted_11","_hoisted_12","price","_hoisted_13","originalPrice","_hoisted_14","_Fragment","_renderList","productSpecs","spec","index","_hoisted_15","_hoisted_16","label","value","_hoisted_17","_hoisted_18","description","_hoisted_19","onClick","_cache","args","addToCart","_createTextVNode","$event","_ctx","$router","go","role"],"sources":["C:\\Users\\Hedib\\OneDrive\\Bureau\\final\\hello-word-vue\\src\\components\\user\\ProductDetail.vue"],"sourcesContent":["<template>\n  <div class=\"container py-5\">\n    <div v-if=\"product\" class=\"card shadow-lg border-0 overflow-hidden\">\n      <!-- Product Content -->\n      <div class=\"row g-0\">\n        <!-- Image Section -->\n        <div class=\"col-lg-6 position-relative\">\n          <img\n            :src=\"product.imageUrl\"\n            class=\"img-fluid rounded-start object-fit-cover h-100\"\n            alt=\"Product image\"\n            style=\"min-height: 300px\n            maax\"\n\n          />\n          <div class=\"position-absolute top-0 start-0 m-3\">\n            <span class=\"badge bg-danger fs-6\">-{{ discountPercentage }}%</span>\n          </div>\n        </div>\n\n        <!-- Details Section -->\n        <div class=\"col-lg-6\">\n          <div class=\"card-body p-4 p-xl-5\">\n            <!-- Product Info -->\n            <h1 class=\"mb-3\">{{ product.name }}</h1>\n\n            <!-- Rating -->\n            <!-- <div class=\"d-flex align-items-center mb-4\">\n              <div class=\"rating-stars me-3\">\n                <i\n                  v-for=\"star in 5\"\n                  :key=\"star\"\n                  class=\"bi bi-star-fill me-1\"\n                  :class=\"\n                    star <= product.rating ? 'text-warning' : 'text-muted'\n                  \"\n                ></i>\n              </div>\n              <span class=\"text-muted\"\n                >({{ product.reviews || 0 }} reviews)</span\n              >\n            </div> -->\n\n            <!-- Price -->\n            <div class=\"d-flex align-items-baseline gap-3 mb-4\">\n              <h2 class=\"text-primary\">${{ product.price }}</h2>\n              <del class=\"text-muted fs-5\">${{ product.originalPrice }}</del>\n            </div>\n\n            <!-- Specifications -->\n            <div class=\"row g-3 mb-4\">\n              <div\n                class=\"col-md-6\"\n                v-for=\"(spec, index) in productSpecs\"\n                :key=\"index\"\n              >\n                <div class=\"bg-light p-3 rounded\">\n                  <span class=\"text-muted d-block small\">{{ spec.label }}</span>\n                  <strong>{{ spec.value }}</strong>\n                </div>\n              </div>\n            </div>\n\n            <!-- Description -->\n            <div class=\"mb-4\">\n              <h4 class=\"mb-3\">Description</h4>\n              <p class=\"text-muted\" style=\"white-space: pre-wrap\">\n                {{ product.description }}\n              </p>\n            </div>\n\n            <!-- Add to Cart -->\n            <div class=\"d-grid gap-3\">\n              <button class=\"btn btn-primary btn-lg py-3\" @click=\"addToCart\">\n                <i class=\"bi bi-cart-plus me-2\"></i>Add to Cart\n              </button>\n              <button class=\"btn btn-outline-secondary\" @click=\"$router.go(-1)\">\n                <i class=\"bi bi-arrow-left me-2\"></i>Continue Shopping\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Loading State -->\n    <div v-else class=\"text-center py-5\">\n      <div class=\"spinner-border text-primary\" role=\"status\">\n        <span class=\"visually-hidden\">Loading...</span>\n      </div>\n      <p class=\"mt-3 text-muted\">Loading product details...</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ProductService from '@/services/ProductService';\nimport CartService from '@/services/CartService';\n\nexport default {\n  name: 'ProductDetail',\n  props: ['id'],\n  data() {\n    return {\n      product: null,\n    };\n  },\n  computed: {\n    discountPercentage() {\n      if (!this.product || !this.product.originalPrice) return 0;\n      return Math.round(\n        ((this.product.originalPrice - this.product.price) /\n          this.product.originalPrice) *\n          100\n      );\n    },\n    productSpecs() {\n      if (!this.product) return [];\n      return [\n        { label: 'Category', value: this.product.category },\n        { label: 'Stock', value: `${this.product.stock} available` },\n        { label: 'Brand', value: this.product.brand || 'Generic' },\n        { label: 'Weight', value: this.product.weight || 'N/A' },\n      ];\n    },\n  },\n  async created() {\n    try {\n      const response = await ProductService.getProductById(this.id);\n      this.product = response.data;\n    } catch (error) {\n      console.error('Error fetching product:', error);\n      this.$router.replace('/products');\n    }\n  },\n  methods: {\n    async addToCart() {\n      try {\n        await CartService.addToCart(this.product.id, 1);\n        window.alert('Product added to cart!');\n      } catch (error) {\n        console.error(\n          'Error adding to cart:',\n          error.response?.data || error.message\n        );\n        window.alert(error.response?.data?.message || 'Failed to add to cart');\n        if (error.response?.status === 401) {\n          this.$router.push('/login');\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.object-fit-cover {\n  object-fit: cover;\n}\n\n.rating-stars {\n  font-size: 1.25rem;\n}\n\n.card {\n  border-radius: 1rem;\n  overflow: hidden;\n}\n\n.badge {\n  font-size: 1rem;\n  padding: 0.5em 0.75em;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.bg-light {\n  background-color: #f8f9fa !important;\n}\n\n.spinner-border {\n  width: 3rem;\n  height: 3rem;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}