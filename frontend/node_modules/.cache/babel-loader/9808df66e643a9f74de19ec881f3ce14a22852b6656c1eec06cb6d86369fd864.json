{"ast":null,"code":"import ProductService from '@/services/ProductService';\nimport CartService from '@/services/CartService';\nexport default {\n  data() {\n    return {\n      products: []\n    };\n  },\n  async created() {\n    try {\n      const response = await ProductService.getAllProducts();\n      this.products = response.data;\n    } catch (error) {\n      console.error('Error fetching products:', error);\n    }\n  },\n  methods: {\n    async addToCart(productId) {\n      try {\n        await CartService.addToCart(productId, 1);\n        alert('Product added to cart!');\n      } catch (error) {\n        console.error('Error adding to cart:', error);\n        alert('Error adding to cart');\n      }\n    },\n    handleImageError(event) {\n      event.target.src = 'https://via.placeholder.com/300x200.png/2a2a2a/ffffff?text=Product+Image';\n    },\n    calculateDiscount(product) {\n      if (!product.originalPrice || product.originalPrice === 0) return 0;\n      return Math.round((product.originalPrice - product.price) / product.originalPrice * 100);\n    },\n    truncateDescription(text, length = 60) {\n      return text.length > length ? text.substring(0, length) + '...' : text;\n    }\n  }\n};","map":{"version":3,"names":["ProductService","CartService","data","products","created","response","getAllProducts","error","console","methods","addToCart","productId","alert","handleImageError","event","target","src","calculateDiscount","product","originalPrice","Math","round","price","truncateDescription","text","length","substring"],"sources":["C:\\Users\\Hedib\\OneDrive\\Bureau\\hello-word-vue\\src\\components\\user\\ProductList.vue"],"sourcesContent":["<template>\n  <div class=\"container py-5\">\n    <!-- Barre de navigation avec bouton amélioré -->\n    <div class=\"header-bar mb-4\">\n      <router-link to=\"/user/dashboard\" class=\"btn btn-lg btn-primary back-btn\">\n        <i class=\"bi bi-arrow-left me-2\"></i>\n        Retour au Dashboard\n      </router-link>\n    </div>\n\n    <!-- Grille des produits -->\n    <div class=\"product-grid\">\n      <div v-for=\"product in products\" :key=\"product.id\" class=\"product-card\">\n        <div class=\"card shadow-sm hover-shadow-lg transition-all\">\n          <div class=\"row g-0\">\n            <!-- Image du produit -->\n            <div class=\"col-md-4 position-relative\">\n              <img\n                :src=\"product.imageUrl\"\n                alt=\"Image du produit\"\n                class=\"img-fluid rounded-start object-fit-cover h-100\"\n                @error=\"handleImageError\"\n              />\n              <div class=\"product-badges\">\n                <span class=\"sale-badge\"\n                  >-{{ calculateDiscount(product) }}%</span\n                >\n                <span class=\"shipping-badge\">\n                  <i class=\"bi bi-truck\"></i>\n                  Livraison gratuite\n                </span>\n              </div>\n              <button class=\"wishlist-button\">\n                <i class=\"bi bi-heart\"></i>\n              </button>\n            </div>\n\n            <!-- Détails du produit -->\n            <div class=\"col-md-5\">\n              <div class=\"card-body h-100 d-flex flex-column\">\n                <h3 class=\"product-title\">{{ product.name }}</h3>\n\n                <div\n                  class=\"product-meta d-flex justify-content-between align-items-center mb-3\"\n                >\n                  <div class=\"rating d-flex align-items-center gap-1\">\n                    <i\n                      v-for=\"star in 5\"\n                      :key=\"star\"\n                      class=\"bi\"\n                      :class=\"\n                        star <= product.rating\n                          ? 'bi-star-fill text-warning'\n                          : 'bi-star text-muted'\n                      \"\n                    ></i>\n                    <small class=\"text-muted\">({{ product.reviews }})</small>\n                  </div>\n                  <div class=\"category-tags\">\n                    <span class=\"tag\">{{ product.category }}</span>\n                  </div>\n                </div>\n\n                <p class=\"product-description\">\n                  {{ truncateDescription(product.description) }}\n                </p>\n              </div>\n            </div>\n\n            <!-- Prix et actions -->\n            <div class=\"col-md-3 border-start\">\n              <div\n                class=\"card-body h-100 d-flex flex-column justify-content-between\"\n              >\n                <div>\n                  <div class=\"d-flex align-items-baseline gap-2 mb-3\">\n                    <h4 class=\"text-primary mb-0\">${{ product.price }}</h4>\n                    <del class=\"text-muted small\"\n                      >${{ product.originalPrice }}</del\n                    >\n                  </div>\n                  <span\n                    class=\"badge bg-success bg-opacity-10 text-success mb-3\"\n                  >\n                    <i class=\"bi bi-truck me-1\"></i>Livraison gratuite\n                  </span>\n                </div>\n\n                <div class=\"d-grid gap-2\">\n                  <!-- Bouton pour afficher les détails du produit -->\n                  <router-link\n                    :to=\"`/product/${product.id}`\"\n                    class=\"btn btn-outline-primary btn-sm\"\n                  >\n                    <i class=\"bi bi-eye me-2\"></i>View Details\n                  </router-link>\n                  <!-- Bouton pour ajouter au panier -->\n                  <button\n                    @click=\"addToCart(product.id)\"\n                    class=\"btn btn-primary btn-sm\"\n                  >\n                    <i class=\"bi bi-cart-plus me-2\"></i>Add to Cart\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ProductService from '@/services/ProductService';\nimport CartService from '@/services/CartService';\n\nexport default {\n  data() {\n    return {\n      products: [],\n    };\n  },\n  async created() {\n    try {\n      const response = await ProductService.getAllProducts();\n      this.products = response.data;\n    } catch (error) {\n      console.error('Error fetching products:', error);\n    }\n  },\n  methods: {\n    async addToCart(productId) {\n      try {\n        await CartService.addToCart(productId, 1);\n        alert('Product added to cart!');\n      } catch (error) {\n        console.error('Error adding to cart:', error);\n        alert('Error adding to cart');\n      }\n    },\n    handleImageError(event) {\n      event.target.src =\n        'https://via.placeholder.com/300x200.png/2a2a2a/ffffff?text=Product+Image';\n    },\n    calculateDiscount(product) {\n      if (!product.originalPrice || product.originalPrice === 0) return 0;\n      return Math.round(\n        ((product.originalPrice - product.price) / product.originalPrice) * 100\n      );\n    },\n    truncateDescription(text, length = 60) {\n      return text.length > length ? text.substring(0, length) + '...' : text;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 2rem;\n}\n.header-bar {\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 1.5rem;\n}\n.back-btn {\n  font-size: 1.1rem;\n  font-weight: 600;\n  padding: 0.75rem 1.5rem;\n}\n.product-grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 2rem;\n}\n.product-card {\n  background: white;\n  border-radius: 12px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  overflow: hidden;\n}\n.product-card:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);\n}\n.card-header {\n  position: relative;\n  height: 240px;\n  background: #f8fafc;\n}\n.product-image {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  object-position: center;\n}\n.product-badges {\n  position: absolute;\n  top: 1rem;\n  left: 1rem;\n  right: 1rem;\n  display: flex;\n  justify-content: space-between;\n}\n.sale-badge {\n  background: #ff4757;\n  color: white;\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  font-size: 0.9rem;\n  font-weight: 600;\n}\n.shipping-badge {\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(4px);\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  font-size: 0.9rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  color: #2d3436;\n}\n.wishlist-button {\n  position: absolute;\n  bottom: 1rem;\n  right: 1rem;\n  background: rgba(255, 255, 255, 0.9);\n  border: none;\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n.wishlist-button:hover {\n  background: #fff;\n  transform: scale(1.1);\n}\n.card-body {\n  padding: 1.5rem;\n}\n.product-title {\n  font-size: 1.1rem;\n  font-weight: 600;\n  margin-bottom: 0.75rem;\n  color: #2d3748;\n}\n.product-meta {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n}\n.rating {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n.stars {\n  color: #ffd700;\n  display: flex;\n  gap: 0.1rem;\n}\n.review-count {\n  color: #718096;\n  font-size: 0.85rem;\n}\n.tag {\n  background: rgba(99, 102, 241, 0.1);\n  color: #6366f1;\n  padding: 0.25rem 0.75rem;\n  border-radius: 20px;\n  font-size: 0.8rem;\n  font-weight: 500;\n}\n.product-description {\n  color: #718096;\n  font-size: 0.9rem;\n  line-height: 1.5;\n  margin-bottom: 1.5rem;\n  height: 60px;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n}\n.price-section {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.pricing {\n  display: flex;\n  flex-direction: column;\n}\n.current-price {\n  font-size: 1.25rem;\n  font-weight: 700;\n  color: #2d3748;\n}\n.original-price {\n  font-size: 0.85rem;\n  color: #a0aec0;\n  text-decoration: line-through;\n}\n.actions {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.cart-button {\n  background: #6366f1;\n  color: white;\n  border: none;\n  padding: 0.75rem 1.5rem;\n  border-radius: 8px;\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  transition: all 0.2s;\n  width: 100%;\n  justify-content: center;\n}\n.cart-button:hover {\n  background: #4f46e5;\n  transform: translateY(-1px);\n}\n@media (max-width: 992px) {\n  .product-grid {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n@media (max-width: 768px) {\n  .product-grid {\n    grid-template-columns: 1fr;\n  }\n  .product-card {\n    max-width: 400px;\n    margin: 0 auto;\n  }\n}\n</style>\n"],"mappings":"AAkHA,OAAOA,cAAa,MAAO,2BAA2B;AACtD,OAAOC,WAAU,MAAO,wBAAwB;AAEhD,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE;IACZ,CAAC;EACH,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,IAAI;MACF,MAAMC,QAAO,GAAI,MAAML,cAAc,CAACM,cAAc,CAAC,CAAC;MACtD,IAAI,CAACH,QAAO,GAAIE,QAAQ,CAACH,IAAI;IAC/B,EAAE,OAAOK,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAClD;EACF,CAAC;EACDE,OAAO,EAAE;IACP,MAAMC,SAASA,CAACC,SAAS,EAAE;MACzB,IAAI;QACF,MAAMV,WAAW,CAACS,SAAS,CAACC,SAAS,EAAE,CAAC,CAAC;QACzCC,KAAK,CAAC,wBAAwB,CAAC;MACjC,EAAE,OAAOL,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;QAC7CK,KAAK,CAAC,sBAAsB,CAAC;MAC/B;IACF,CAAC;IACDC,gBAAgBA,CAACC,KAAK,EAAE;MACtBA,KAAK,CAACC,MAAM,CAACC,GAAE,GACb,0EAA0E;IAC9E,CAAC;IACDC,iBAAiBA,CAACC,OAAO,EAAE;MACzB,IAAI,CAACA,OAAO,CAACC,aAAY,IAAKD,OAAO,CAACC,aAAY,KAAM,CAAC,EAAE,OAAO,CAAC;MACnE,OAAOC,IAAI,CAACC,KAAK,CACd,CAACH,OAAO,CAACC,aAAY,GAAID,OAAO,CAACI,KAAK,IAAIJ,OAAO,CAACC,aAAa,GAAI,GACtE,CAAC;IACH,CAAC;IACDI,mBAAmBA,CAACC,IAAI,EAAEC,MAAK,GAAI,EAAE,EAAE;MACrC,OAAOD,IAAI,CAACC,MAAK,GAAIA,MAAK,GAAID,IAAI,CAACE,SAAS,CAAC,CAAC,EAAED,MAAM,IAAI,KAAI,GAAID,IAAI;IACxE;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}